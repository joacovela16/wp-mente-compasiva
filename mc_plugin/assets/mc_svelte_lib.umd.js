var On=Object.defineProperty;var wl=Object.getOwnPropertySymbols;var Dn=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable;var kl=(B,G,R)=>G in B?On(B,G,{enumerable:!0,configurable:!0,writable:!0,value:R}):B[G]=R,it=(B,G)=>{for(var R in G||(G={}))Dn.call(G,R)&&kl(B,R,G[R]);if(wl)for(var R of wl(G))Nn.call(G,R)&&kl(B,R,G[R]);return B};(function(B,G){typeof exports=="object"&&typeof module!="undefined"?G(exports):typeof define=="function"&&define.amd?define(["exports"],G):(B=typeof globalThis!="undefined"?globalThis:B||self,G(B.MC_SVELTE_LIB={}))})(this,function(B){"use strict";var G="";function R(){}const yl=e=>e;function $l(e,t){for(const l in t)e[l]=t[l];return e}function $t(e){return e()}function Ct(){return Object.create(null)}function Me(e){e.forEach($t)}function Mt(e){return typeof e=="function"}function We(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let st;function ot(e,t){return st||(st=document.createElement("a")),st.href=t,e===st.href}function Cl(e){return Object.keys(e).length===0}function Ml(e,t,l,n){if(e){const i=Et(e,t,l,n);return e[0](i)}}function Et(e,t,l,n){return e[1]&&n?$l(l.ctx.slice(),e[1](n(t))):l.ctx}function El(e,t,l,n){if(e[2]&&n){const i=e[2](n(l));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(t.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=t.dirty[f]|i[f];return s}return t.dirty|i}return t.dirty}function Pl(e,t,l,n,i,s){if(i){const o=Et(t,l,n,s);e.p(o,i)}}function jl(e){if(e.ctx.length>32){const t=[],l=e.ctx.length/32;for(let n=0;n<l;n++)t[n]=-1;return t}return-1}const Pt=typeof window!="undefined";let Sl=Pt?()=>window.performance.now():()=>Date.now(),ht=Pt?e=>requestAnimationFrame(e):R;const ze=new Set;function jt(e){ze.forEach(t=>{t.c(e)||(ze.delete(t),t.f())}),ze.size!==0&&ht(jt)}function Al(e){let t;return ze.size===0&&ht(jt),{promise:new Promise(l=>{ze.add(t={c:e,f:l})}),abort(){ze.delete(t)}}}function r(e,t){e.appendChild(t)}function St(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ol(e){const t=c("style");return Dl(St(e),t),t}function Dl(e,t){r(e.head||e,t)}function N(e,t,l){e.insertBefore(t,l||null)}function D(e){e.parentNode.removeChild(e)}function se(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function c(e){return document.createElement(e)}function oe(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function F(e){return document.createTextNode(e)}function w(){return F(" ")}function At(){return F("")}function L(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function a(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function rt(e,t,l){const n=new Set;for(let i=0;i<e.length;i+=1)e[i].checked&&n.add(e[i].__value);return l||n.delete(t),Array.from(n)}function Nl(e){return Array.from(e.childNodes)}function re(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function J(e,t){e.value=t==null?"":t}function at(e,t,l){e.classList[l?"add":"remove"](t)}function Tl(e,t,l=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,l,!1,t),n}const gt=new Set;let ut=0;function Ul(e){let t=5381,l=e.length;for(;l--;)t=(t<<5)-t^e.charCodeAt(l);return t>>>0}function ql(e,t,l,n,i,s,o,f=0){const u=16.666/n;let _=`{
`;for(let $=0;$<=1;$+=u){const E=t+(l-t)*s($);_+=$*100+`%{${o(E,1-E)}}
`}const d=_+`100% {${o(l,1-l)}}
}`,m=`__svelte_${Ul(d)}_${f}`,g=St(e);gt.add(g);const p=g.__svelte_stylesheet||(g.__svelte_stylesheet=Ol(e).sheet),h=g.__svelte_rules||(g.__svelte_rules={});h[m]||(h[m]=!0,p.insertRule(`@keyframes ${m} ${d}`,p.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${m} ${n}ms linear ${i}ms 1 both`,ut+=1,m}function Ot(e,t){const l=(e.style.animation||"").split(", "),n=l.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=l.length-n.length;i&&(e.style.animation=n.join(", "),ut-=i,ut||zl())}function zl(){ht(()=>{ut||(gt.forEach(e=>{const t=e.__svelte_stylesheet;let l=t.cssRules.length;for(;l--;)t.deleteRule(l);e.__svelte_rules={}}),gt.clear())})}let vt;function Ie(e){vt=e}const Ve=[],bt=[],ft=[],Dt=[],Ll=Promise.resolve();let wt=!1;function Hl(){wt||(wt=!0,Ll.then(Nt))}function Ge(e){ft.push(e)}const kt=new Set;let ct=0;function Nt(){const e=vt;do{for(;ct<Ve.length;){const t=Ve[ct];ct++,Ie(t),Rl(t.$$)}for(Ie(null),Ve.length=0,ct=0;bt.length;)bt.pop()();for(let t=0;t<ft.length;t+=1){const l=ft[t];kt.has(l)||(kt.add(l),l())}ft.length=0}while(Ve.length);for(;Dt.length;)Dt.pop()();wt=!1,kt.clear(),Ie(e)}function Rl(e){if(e.fragment!==null){e.update(),Me(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ge)}}let Je;function Bl(){return Je||(Je=Promise.resolve(),Je.then(()=>{Je=null})),Je}function Tt(e,t,l){e.dispatchEvent(Tl(`${t?"intro":"outro"}${l}`))}const pt=new Set;let Oe;function Fl(){Oe={r:0,c:[],p:Oe}}function Wl(){Oe.r||Me(Oe.c),Oe=Oe.p}function K(e,t){e&&e.i&&(pt.delete(e),e.i(t))}function ce(e,t,l,n){if(e&&e.o){if(pt.has(e))return;pt.add(e),Oe.c.push(()=>{pt.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}}const Il={duration:0};function Vl(e,t,l){let n=t(e,l),i=!1,s,o,f=0;function u(){s&&Ot(e,s)}function _(){const{delay:m=0,duration:g=300,easing:p=yl,tick:h=R,css:b}=n||Il;b&&(s=ql(e,0,1,g,m,p,b,f++)),h(0,1);const $=Sl()+m,E=$+g;o&&o.abort(),i=!0,Ge(()=>Tt(e,!0,"start")),o=Al(C=>{if(i){if(C>=E)return h(1,0),Tt(e,!0,"end"),u(),i=!1;if(C>=$){const T=p((C-$)/g);h(T,1-T)}}return i})}let d=!1;return{start(){d||(d=!0,Ot(e),Mt(n)?(n=n(),Bl().then(_)):_())},invalidate(){d=!1},end(){i&&(u(),i=!1)}}}function Ut(e,t){e.d(1),t.delete(e.key)}function qt(e,t,l,n,i,s,o,f,u,_,d,m){let g=e.length,p=s.length,h=g;const b={};for(;h--;)b[e[h].key]=h;const $=[],E=new Map,C=new Map;for(h=p;h--;){const y=m(i,s,h),S=l(y);let v=o.get(S);v?n&&v.p(y,t):(v=_(S,y),v.c()),E.set(S,$[h]=v),S in b&&C.set(S,Math.abs(h-b[S]))}const T=new Set,P=new Set;function z(y){K(y,1),y.m(f,d),o.set(y.key,y),d=y.first,p--}for(;g&&p;){const y=$[p-1],S=e[g-1],v=y.key,k=S.key;y===S?(d=y.first,g--,p--):E.has(k)?!o.has(v)||T.has(v)?z(y):P.has(k)?g--:C.get(v)>C.get(k)?(P.add(v),z(y)):(T.add(k),g--):(u(S,o),g--)}for(;g--;){const y=e[g];E.has(y.key)||u(y,o)}for(;p;)z($[p-1]);return $}function Ee(e){e&&e.c()}function ve(e,t,l,n){const{fragment:i,on_mount:s,on_destroy:o,after_update:f}=e.$$;i&&i.m(t,l),n||Ge(()=>{const u=s.map($t).filter(Mt);o?o.push(...u):Me(u),e.$$.on_mount=[]}),f.forEach(Ge)}function be(e,t){const l=e.$$;l.fragment!==null&&(Me(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Gl(e,t){e.$$.dirty[0]===-1&&(Ve.push(e),Hl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ke(e,t,l,n,i,s,o,f=[-1]){const u=vt;Ie(e);const _=e.$$={fragment:null,ctx:null,props:s,update:R,not_equal:i,bound:Ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Ct(),dirty:f,skip_bound:!1,root:t.target||u.$$.root};o&&o(_.root);let d=!1;if(_.ctx=l?l(e,t.props||{},(m,g,...p)=>{const h=p.length?p[0]:g;return _.ctx&&i(_.ctx[m],_.ctx[m]=h)&&(!_.skip_bound&&_.bound[m]&&_.bound[m](h),d&&Gl(e,m)),g}):[],_.update(),d=!0,Me(_.before_update),_.fragment=n?n(_.ctx):!1,t.target){if(t.hydrate){const m=Nl(t.target);_.fragment&&_.fragment.l(m),m.forEach(D)}else _.fragment&&_.fragment.c();t.intro&&K(e.$$.fragment),ve(e,t.target,t.anchor,t.customElement),Nt()}Ie(u)}class Xe{$destroy(){be(this,1),this.$destroy=R}$on(t,l){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Cl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(e){return t=>e[t]||t}function zt(e,t){return Array.isArray(e)?e.reduce((l,n)=>(l[t(n)]=n,l),{}):e}function Lt(e,t,l,n){if(Array.isArray(t)){const i=zt(t,l);e.forEach(s=>{const o=l(s);i[o]||t.push(n(s))})}else e.forEach(i=>{const s=l(i);t[s]||(t[s]=n(i))})}function Jl(e){return e==null}function yt(e){return!Le(e)}function Le(e){return Jl(e)||e.trim().length===0}function Ht(e,t,l){const n=e.slice();return n[11]=t[l],n[12]=t,n[13]=l,n}function Rt(e,t,l){const n=e.slice();return n[14]=t[l],n}function Bt(e,t,l){const n=e.slice();return n[14]=t[l],n}function Ft(e,t,l){const n=e.slice();return n[11]=t[l],n[13]=l,n}function Wt(e,t){let l,n=t[11].name+"",i,s,o,f,u;function _(){return t[6](t[13])}return{key:e,first:null,c(){l=c("div"),i=F(n),s=w(),a(l,"class",o="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(t[2].name===t[11].name&&"bg-blue-500 text-white")),this.first=l},m(d,m){N(d,l,m),r(l,i),r(l,s),f||(u=L(l,"click",_),f=!0)},p(d,m){t=d,m&4&&o!==(o="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(t[2].name===t[11].name&&"bg-blue-500 text-white"))&&a(l,"class",o)},d(d){d&&D(l),f=!1,u()}}}function It(e){let t,l,n,i,s,o,f=e[14]+"",u,_,d,m;e[8][1][e[13]]=[];function g(){e[7].call(n,e[11],e[13])}return{c(){t=c("div"),l=c("label"),n=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(n,"type","checkbox"),n.__value=e[14],n.value=n.__value,a(n,"name",i=""+(e[0].names.permission+"["+e[11].name+"][post_types][]")),e[8][1][e[13]].push(n)},m(p,h){N(p,t,h),r(t,l),r(l,n),n.checked=~e[1][e[11].name].post_types.indexOf(n.__value),r(l,s),r(l,o),r(o,u),r(t,_),d||(m=L(n,"change",g),d=!0)},p(p,h){e=p,h&1&&i!==(i=""+(e[0].names.permission+"["+e[11].name+"][post_types][]"))&&a(n,"name",i),h&10&&(n.checked=~e[1][e[11].name].post_types.indexOf(n.__value))},d(p){p&&D(t),e[8][1][e[13]].splice(e[8][1][e[13]].indexOf(n),1),d=!1,m()}}}function Vt(e){let t,l,n,i,s,o,f=e[14]+"",u,_,d,m;e[8][0][e[13]]=[];function g(){e[9].call(n,e[11],e[13])}return{c(){t=c("div"),l=c("label"),n=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(n,"type","checkbox"),n.__value=e[14],n.value=n.__value,a(n,"name",i=""+(e[0].names.permission+"["+e[11].name+"][capabilities][]")),e[8][0][e[13]].push(n)},m(p,h){N(p,t,h),r(t,l),r(l,n),n.checked=~e[1][e[11].name].capabilities.indexOf(n.__value),r(l,s),r(l,o),r(o,u),r(t,_),d||(m=L(n,"change",g),d=!0)},p(p,h){e=p,h&1&&i!==(i=""+(e[0].names.permission+"["+e[11].name+"][capabilities][]"))&&a(n,"name",i),h&10&&(n.checked=~e[1][e[11].name].capabilities.indexOf(n.__value))},d(p){p&&D(t),e[8][0][e[13]].splice(e[8][0][e[13]].indexOf(n),1),d=!1,m()}}}function Gt(e,t){let l,n,i,s,o,f,u,_,d,m,g,p,h=t[11].post_types,b=[];for(let C=0;C<h.length;C+=1)b[C]=It(Bt(t,h,C));let $=t[11].capabilities||[],E=[];for(let C=0;C<$.length;C+=1)E[C]=Vt(Rt(t,$,C));return{key:e,first:null,c(){l=c("input"),i=w(),s=c("div"),o=c("div"),f=c("div"),f.textContent=`${t[4]("Post types")}`,u=w();for(let C=0;C<b.length;C+=1)b[C].c();_=w(),d=c("div"),m=c("div"),m.textContent=`${t[4]("Capabilities")}`,g=w();for(let C=0;C<E.length;C+=1)E[C].c();p=w(),a(l,"type","hidden"),l.value=t[11].name,a(l,"name",n=""+(t[0].names.permission+"["+t[11].name+"][name]")),a(o,"class","flex-1"),a(d,"class","flex-1"),a(s,"class","p-2 flex flex-row"),at(s,"hidden",t[11].name!==t[2].name),this.first=l},m(C,T){N(C,l,T),N(C,i,T),N(C,s,T),r(s,o),r(o,f),r(o,u);for(let P=0;P<b.length;P+=1)b[P].m(o,null);r(s,_),r(s,d),r(d,m),r(d,g);for(let P=0;P<E.length;P+=1)E[P].m(d,null);r(s,p)},p(C,T){if(t=C,T&1&&n!==(n=""+(t[0].names.permission+"["+t[11].name+"][name]"))&&a(l,"name",n),T&11){h=t[11].post_types;let P;for(P=0;P<h.length;P+=1){const z=Bt(t,h,P);b[P]?b[P].p(z,T):(b[P]=It(z),b[P].c(),b[P].m(o,null))}for(;P<b.length;P+=1)b[P].d(1);b.length=h.length}if(T&11){$=t[11].capabilities||[];let P;for(P=0;P<$.length;P+=1){const z=Rt(t,$,P);E[P]?E[P].p(z,T):(E[P]=Vt(z),E[P].c(),E[P].m(d,null))}for(;P<E.length;P+=1)E[P].d(1);E.length=$.length}T&12&&at(s,"hidden",t[11].name!==t[2].name)},d(C){C&&D(l),C&&D(i),C&&D(s),se(b,C),se(E,C)}}}function Kl(e){let t,l,n=[],i=new Map,s,o=[],f=new Map,u=e[3];const _=g=>g[11].name;for(let g=0;g<u.length;g+=1){let p=Ft(e,u,g),h=_(p);i.set(h,n[g]=Wt(h,p))}let d=e[3];const m=g=>g[11].name;for(let g=0;g<d.length;g+=1){let p=Ht(e,d,g),h=m(p);f.set(h,o[g]=Gt(h,p))}return{c(){t=c("div"),l=c("div");for(let g=0;g<n.length;g+=1)n[g].c();s=w();for(let g=0;g<o.length;g+=1)o[g].c();a(l,"class","flex flex-row space-x-2"),a(t,"class","bg-white p-2 rounded")},m(g,p){N(g,t,p),r(t,l);for(let h=0;h<n.length;h+=1)n[h].m(l,null);r(t,s);for(let h=0;h<o.length;h+=1)o[h].m(t,null)},p(g,[p]){p&12&&(u=g[3],n=qt(n,p,_,1,g,u,i,l,Ut,Wt,null,Ft)),p&31&&(d=g[3],o=qt(o,p,m,1,g,d,f,t,Ut,Gt,null,Ht))},i:R,o:R,d(g){g&&D(t);for(let p=0;p<n.length;p+=1)n[p].d();for(let p=0;p<o.length;p+=1)o[p].d()}}}function Xl(e,t,l){const n={names:{permission:"mc_metabox_permission"},selections:{},i18n:{}};let{config:i={permissions:[],selections:{},i18n:{}}}=t;console.log(i);const s=it(it({},n),i||{});s.selections||(s.selections={}),Lt(s.permissions,s.selections||{},h=>h.name,h=>({name:h.name,post_types:[],capabilities:[]})),Object.keys(s.selections||{}).forEach(h=>{const b=s.selections[h];b.post_types=b.post_types||[],b.capabilities=b.capabilities||[]});const o=s.permissions,f=s.selections,u=dt(s.i18n||{});let _=o[0];const d=[[],[]],m=h=>l(2,_=o[h]);function g(h,b){f[h.name].post_types=rt(d[1][b],this.__value,this.checked),l(1,f)}function p(h,b){f[h.name].capabilities=rt(d[0][b],this.__value,this.checked),l(1,f)}return e.$$set=h=>{"config"in h&&l(5,i=h.config)},[s,f,_,o,u,i,m,g,d,p]}class Ql extends Xe{constructor(t){super();Ke(this,t,Xl,Kl,We,{config:5})}}function Jt(e,t,l){const n=e.slice();return n[22]=t[l],n[24]=l,n}function Kt(e,t,l){const n=e.slice();return n[25]=t[l],n[26]=t,n[27]=l,n}function Xt(e,t,l){const n=e.slice();return n[28]=t[l],n}function Qt(e,t,l){const n=e.slice();return n[28]=t[l],n}function Yt(e,t,l){const n=e.slice();return n[33]=t[l],n[35]=l,n}function Zt(e,t,l){const n=e.slice();return n[28]=t[l],n}function xt(e){let t,l,n,i,s,o=e[28]+"",f,u;return{c(){t=c("label"),l=c("input"),i=w(),s=c("span"),f=F(o),u=w(),a(l,"type","checkbox"),l.value=e[28],a(l,"name","permissions["+e[27]+"][post_types][]"),l.checked=n=e[25].post_types.includes(e[28]),a(t,"class","items-center")},m(_,d){N(_,t,d),r(t,l),r(t,i),r(t,s),r(s,f),r(t,u)},p(_,d){d[0]&1&&n!==(n=_[25].post_types.includes(_[28]))&&(l.checked=n)},d(_){_&&D(t)}}}function el(e){let t,l,n,i,s,o,f=e[33]+"",u,_,d,m,g,p;function h(){return e[13](e[25],e[35],e[26],e[27])}return{c(){t=c("div"),l=c("input"),i=w(),s=c("div"),o=c("span"),u=F(f),_=w(),d=c("span"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" class="cursor-pointer" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',m=w(),a(l,"type","hidden"),l.value=n=e[33],a(l,"name","permissions["+e[27]+"][capabilities][]"),a(d,"class","ml-2 font-bold"),a(s,"class","flex shadow items-center bg-blue-500 text-white fill-white rounded mr-1 px-1"),a(t,"class","w-auto")},m(b,$){N(b,t,$),r(t,l),r(t,i),r(t,s),r(s,o),r(o,u),r(s,_),r(s,d),r(t,m),g||(p=L(d,"click",h),g=!0)},p(b,$){e=b,$[0]&1&&n!==(n=e[33])&&(l.value=n),$[0]&1&&f!==(f=e[33]+"")&&re(u,f)},d(b){b&&D(t),g=!1,p()}}}function tl(e){let t,l,n,i,s,o,f=e[28]+"",u,_;return{c(){t=c("label"),l=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(l,"type","checkbox"),l.value=n=e[28],a(l,"name","defaults[user]["+e[27]+"][post_types][]"),l.checked=i=ol(e[27],e[28],e[0].defaults.user),a(t,"class","flex items-center")},m(d,m){N(d,t,m),r(t,l),r(t,s),r(t,o),r(o,u),r(t,_)},p(d,m){m[0]&1&&n!==(n=d[28])&&(l.value=n),m[0]&1&&i!==(i=ol(d[27],d[28],d[0].defaults.user))&&(l.checked=i),m[0]&1&&f!==(f=d[28]+"")&&re(u,f)},d(d){d&&D(t)}}}function ll(e){let t,l,n,i,s,o,f=e[28]+"",u,_;return{c(){t=c("div"),l=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(l,"type","checkbox"),l.value=n=e[28],a(l,"name","defaults[user]["+e[27]+"][capabilities][]"),l.checked=i=rl(e[27],e[28],e[0].defaults.user),a(t,"class","items-center")},m(d,m){N(d,t,m),r(t,l),r(t,s),r(t,o),r(o,u),r(t,_)},p(d,m){m[0]&1&&n!==(n=d[28])&&(l.value=n),m[0]&1&&i!==(i=rl(d[27],d[28],d[0].defaults.user))&&(l.checked=i),m[0]&1&&f!==(f=d[28]+"")&&re(u,f)},d(d){d&&D(t)}}}function Yl(e){let t,l,n;function i(){return e[14](e[27])}return{c(){t=c("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="cursor-pointer" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M18 15l-6 -6l-6 6h12"></path></svg>',a(t,"title","Move up")},m(s,o){N(s,t,o),l||(n=L(t,"click",i),l=!0)},p(s,o){e=s},d(s){s&&D(t),l=!1,n()}}}function nl(e){let t,l,n;function i(){return e[15](e[27])}return{c(){t=c("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="cursor-pointer" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M18 15l-6 -6l-6 6h12" transform="rotate(180 12 12)"></path></svg>',a(t,"title","Move down")},m(s,o){N(s,t,o),l||(n=L(t,"click",i),l=!0)},p(s,o){e=s},d(s){s&&D(t),l=!1,n()}}}function il(e){let t,l,n,i,s,o,f,u,_,d,m,g,p,h,b,$,E,C,T,P,z,y,S,v,k,O,j,q,ee,pe,de,Qe,ae,Ye,_e,De,Ne,te,ue,Ze,le,ne,Te,he,we,X,xe,ie,je,et,ke,Ue,Se,ye,$e,fe,ge,W,U,H,tt,Ae,lt,He,nt,Ce=e[4],I=[];for(let A=0;A<Ce.length;A+=1)I[A]=xt(Zt(e,Ce,A));function mt(...A){return e[12](e[27],...A)}let Re=e[25].capabilities||[],Q=[];for(let A=0;A<Re.length;A+=1)Q[A]=el(Yt(e,Re,A));let Be=e[25].post_types,Y=[];for(let A=0;A<Be.length;A+=1)Y[A]=tl(Qt(e,Be,A));let Fe=e[25].capabilities||[],Z=[];for(let A=0;A<Fe.length;A+=1)Z[A]=ll(Xt(e,Fe,A));let qe=e[27]>0&&Yl(e),x=e[27]<e[0].permissions.length-1&&nl(e);function An(...A){return e[16](e[27],...A)}return{c(){t=c("div"),l=c("input"),s=w(),o=c("div"),f=c("div"),u=c("p"),u.textContent=`${e[5]("Configuration")}`,_=w(),d=c("div"),m=c("label"),g=c("span"),g.textContent=`${e[5]("Name")}`,p=w(),h=c("input"),E=w(),C=c("label"),T=c("input"),y=w(),S=c("span"),S.textContent=`${e[5]("Signed required")}`,v=w(),k=c("div"),O=c("span"),O.textContent=`${e[5]("Post type")}`,j=w(),q=c("div");for(let A=0;A<I.length;A+=1)I[A].c();ee=w(),pe=c("div"),de=c("span"),de.textContent=`${e[5]("Capabilities")}`,Qe=w(),ae=c("input"),Ye=w(),_e=c("div");for(let A=0;A<Q.length;A+=1)Q[A].c();De=w(),Ne=c("div"),te=c("div"),ue=c("p"),ue.textContent=`${e[5]("Defaults settings")}`,Ze=w(),le=c("div"),ne=c("div"),Te=c("p"),Te.textContent=`${e[5]("Default posts")}`,he=w(),we=c("div"),X=c("input"),je=w();for(let A=0;A<Y.length;A+=1)Y[A].c();et=w(),ke=c("div"),Ue=c("div"),Ue.textContent=`${e[5]("Default capabilities")}`,Se=w(),ye=c("div");for(let A=0;A<Z.length;A+=1)Z[A].c();$e=w(),fe=c("div"),ge=c("div"),qe&&qe.c(),W=w(),x&&x.c(),U=w(),H=c("div"),tt=w(),Ae=c("div"),Ae.textContent=`${e[5]("Delete")}`,lt=w(),a(l,"type","hidden"),a(l,"name",n="permissions["+e[27]+"][id]"),l.value=i=e[25].id,a(u,"class","font-bold text-sm mb-2"),a(g,"class","font-bold"),a(h,"type","text"),a(h,"name",b="permissions["+e[27]+"][name]"),h.value=$=e[25].name,a(h,"class","w-auto"),a(m,"class","flex flex-col"),a(T,"type","checkbox"),a(T,"name",P="permissions["+e[27]+"][logged_required]'"),T.checked=z=e[25].logged_required==="on",a(O,"class","font-bold"),a(ae,"type","text"),a(_e,"class","flex flex-wrap"),a(pe,"class","flex flex-col space-y-1 flex-1"),a(d,"class","flex flex-col space-y-1 px-3"),a(f,"class","flex-1"),a(ue,"class","font-bold text-sm mb-2"),a(Te,"class","font-bold"),a(X,"type","hidden"),a(X,"name",xe="defaults[user]["+e[27]+"][name]"),X.value=ie=e[25].name,a(Ue,"class","font-bold"),a(ye,"class","flex flex-row space-x-2"),a(le,"class","px-3"),a(te,"class","space-y-3"),a(Ne,"class","flex-1 space-y-3"),a(o,"class","flex space-x-2"),a(ge,"class","flex flex-col "),a(H,"class","flex-1"),a(Ae,"class","p-2 bg-red-500 rounded text-white "),a(fe,"class","flex items-center "),a(t,"class","rounded bg-white p-2")},m(A,V){N(A,t,V),r(t,l),r(t,s),r(t,o),r(o,f),r(f,u),r(f,_),r(f,d),r(d,m),r(m,g),r(m,p),r(m,h),r(d,E),r(d,C),r(C,T),r(C,y),r(C,S),r(d,v),r(d,k),r(k,O),r(k,j),r(k,q);for(let M=0;M<I.length;M+=1)I[M].m(q,null);r(d,ee),r(d,pe),r(pe,de),r(pe,Qe),r(pe,ae),r(pe,Ye),r(pe,_e);for(let M=0;M<Q.length;M+=1)Q[M].m(_e,null);r(o,De),r(o,Ne),r(Ne,te),r(te,ue),r(te,Ze),r(te,le),r(le,ne),r(ne,Te),r(ne,he),r(ne,we),r(we,X),r(we,je);for(let M=0;M<Y.length;M+=1)Y[M].m(we,null);r(le,et),r(le,ke),r(ke,Ue),r(ke,Se),r(ke,ye);for(let M=0;M<Z.length;M+=1)Z[M].m(ye,null);r(t,$e),r(t,fe),r(fe,ge),qe&&qe.m(ge,null),r(ge,W),x&&x.m(ge,null),r(fe,U),r(fe,H),r(fe,tt),r(fe,Ae),r(t,lt),He||(nt=[L(ae,"keypress",mt),L(Ae,"click",An)],He=!0)},p(A,V){if(e=A,V[0]&1&&i!==(i=e[25].id)&&(l.value=i),V[0]&1&&$!==($=e[25].name)&&h.value!==$&&(h.value=$),V[0]&1&&z!==(z=e[25].logged_required==="on")&&(T.checked=z),V[0]&17){Ce=e[4];let M;for(M=0;M<Ce.length;M+=1){const me=Zt(e,Ce,M);I[M]?I[M].p(me,V):(I[M]=xt(me),I[M].c(),I[M].m(q,null))}for(;M<I.length;M+=1)I[M].d(1);I.length=Ce.length}if(V[0]&1){Re=e[25].capabilities||[];let M;for(M=0;M<Re.length;M+=1){const me=Yt(e,Re,M);Q[M]?Q[M].p(me,V):(Q[M]=el(me),Q[M].c(),Q[M].m(_e,null))}for(;M<Q.length;M+=1)Q[M].d(1);Q.length=Re.length}if(V[0]&1&&ie!==(ie=e[25].name)&&(X.value=ie),V[0]&1){Be=e[25].post_types;let M;for(M=0;M<Be.length;M+=1){const me=Qt(e,Be,M);Y[M]?Y[M].p(me,V):(Y[M]=tl(me),Y[M].c(),Y[M].m(we,null))}for(;M<Y.length;M+=1)Y[M].d(1);Y.length=Be.length}if(V[0]&1){Fe=e[25].capabilities||[];let M;for(M=0;M<Fe.length;M+=1){const me=Xt(e,Fe,M);Z[M]?Z[M].p(me,V):(Z[M]=ll(me),Z[M].c(),Z[M].m(ye,null))}for(;M<Z.length;M+=1)Z[M].d(1);Z.length=Fe.length}e[27]>0&&qe.p(e,V),e[27]<e[0].permissions.length-1?x?x.p(e,V):(x=nl(e),x.c(),x.m(ge,null)):x&&(x.d(1),x=null)},d(A){A&&D(t),se(I,A),se(Q,A),se(Y,A),se(Z,A),qe&&qe.d(),x&&x.d(),He=!1,Me(nt)}}}function sl(e){let t,l,n,i,s,o=e[22]+"",f,u,_,d,m,g;function p(){return e[18](e[24])}return{c(){t=c("input"),n=w(),i=c("div"),s=c("span"),f=F(o),u=w(),_=c("span"),_.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="cursor-pointer"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',d=w(),a(t,"type","hidden"),a(t,"name","countries[]"),t.value=l=e[22],a(_,"class","ml-2 font-bold"),a(i,"class","flex shadow items-center bg-blue-500 text-white fill-white rounded mr-1 px-1 mt-1")},m(h,b){N(h,t,b),N(h,n,b),N(h,i,b),r(i,s),r(s,f),r(i,u),r(i,_),r(i,d),m||(g=L(_,"click",p),m=!0)},p(h,b){e=h,b[0]&1&&l!==(l=e[22])&&(t.value=l),b[0]&1&&o!==(o=e[22]+"")&&re(f,o)},d(h){h&&D(t),h&&D(n),h&&D(i),m=!1,g()}}}function Zl(e){let t,l,n,i,s,o,f,u,_,d,m,g,p,h,b,$,E,C,T,P,z=e[0].permissions,y=[];for(let k=0;k<z.length;k+=1)y[k]=il(Kt(e,z,k));let S=e[0].countries,v=[];for(let k=0;k<S.length;k+=1)v[k]=sl(Jt(e,S,k));return{c(){t=c("div"),l=c("div"),n=c("button"),n.textContent=`${e[5]("Save settings")}`,i=w(),s=c("button"),s.textContent=`${e[5]("Add new")}`,o=w(),f=c("form"),u=c("details"),_=c("summary"),_.textContent=`${e[5]("Permissions")}`,d=w();for(let k=0;k<y.length;k+=1)y[k].c();m=w(),g=c("details"),p=c("summary"),p.textContent=`${e[5]("Countries")}`,h=w(),b=c("div"),$=c("input"),E=w(),C=c("div");for(let k=0;k<v.length;k+=1)v[k].c();a(n,"class","bg-blue-500 text-white rounded p-1"),a(s,"class","border-1 border-blue-500 rounded p-1 bg-white"),a(l,"class","flex flex-row space-x-2 mt-2"),u.open=!0,a($,"type","text"),a($,"placeholder",e[5]("Add country")),a(C,"class","flex flex-wrap"),a(b,"class","rounded bg-white p-2 "),g.open=!0,a(f,"action",e[2]),a(f,"method","post"),a(f,"class","space-y-2"),a(t,"class","space-y-2 text-gray-600")},m(k,O){N(k,t,O),r(t,l),r(l,n),r(l,i),r(l,s),r(t,o),r(t,f),r(f,u),r(u,_),r(u,d);for(let j=0;j<y.length;j+=1)y[j].m(u,null);r(f,m),r(f,g),r(g,p),r(g,h),r(g,b),r(b,$),r(b,E),r(b,C);for(let j=0;j<v.length;j+=1)v[j].m(C,null);e[19](f),T||(P=[L(n,"click",e[10]),L(s,"click",e[11]),L($,"change",e[17])],T=!0)},p(k,O){if(O[0]&1009){z=k[0].permissions;let j;for(j=0;j<z.length;j+=1){const q=Kt(k,z,j);y[j]?y[j].p(q,O):(y[j]=il(q),y[j].c(),y[j].m(u,null))}for(;j<y.length;j+=1)y[j].d(1);y.length=z.length}if(O[0]&1){S=k[0].countries;let j;for(j=0;j<S.length;j+=1){const q=Jt(k,S,j);v[j]?v[j].p(q,O):(v[j]=sl(q),v[j].c(),v[j].m(C,null))}for(;j<v.length;j+=1)v[j].d(1);v.length=S.length}},i:R,o:R,d(k){k&&D(t),se(y,k),se(v,k),e[19](null),T=!1,Me(P)}}}function ol(e,t,l){const n=l[e];return n&&n.post_types.includes(t)}function rl(e,t,l){const n=l[e];return n&&n.capabilities.includes(t)}function xl(e,t,l){let{config:n={postUrl:"",defaultPermission:{name:"New item",logged_required:!0,post_types:[],capabilities:[]},post_types:["post","page","attachment"],permissions:[{name:"ShowProDir",logged_required:!1,post_types:["attachment"],capabilities:["CAN_READ","CAN_WRITE"]}],defaults:{post:{permissions:[],capabilities:[]},user:{permissions:[],capabilities:[]}},i18n:{}}}=t;n.defaults||(n.defaults={}),n.defaults.user||(n.defaults.user=[...n.permissions]),n.defaults.post||(n.defaults.post=[...n.permissions]),n.countries||(n.countries=[]),_(n.defaults.post),_(n.defaults.user);const i=n.postUrl,s=n.defaultPermission,o=n.post_types;n.permissions;const f=dt(n.i18n);let u;function _(v){for(let k=0;k<n.permissions.length;k++)v[k]=v[k]||n.permissions[k],v[k].post_types=v[k].post_types||[],v[k].capabilities=v[k].capabilities||[]}function d(v,k){if(v.key==="Enter"){if(v.preventDefault(),v.target.value==="")return;l(0,n.permissions[k].capabilities=n.permissions[k].capabilities||[],n),l(0,n.permissions[k].capabilities=[...n.permissions[k].capabilities,v.target.value],n),v.target.value=""}}function m(v,k){k.preventDefault(),n.permissions.splice(v,1),l(0,n)}function g(v){const k=n.permissions[v-1];l(0,n.permissions[v-1]=n.permissions[v],n),l(0,n.permissions[v]=k,n)}function p(v){const k=n.permissions[v+1];l(0,n.permissions[v+1]=n.permissions[v],n),l(0,n.permissions[v]=k,n)}const h=()=>u.submit(),b=()=>l(0,n.permissions=[s,...n.permissions],n),$=(v,k)=>d(k,v),E=(v,k,O,j)=>{v.capabilities.splice(k,1),l(0,O[j].capabilities=v.capabilities,n)},C=v=>g(v),T=v=>p(v),P=(v,k)=>m(v,k),z=v=>{v.target.value.length>0&&(n.countries.push(v.target.value),l(0,n))},y=v=>{n.countries.splice(v,1),l(0,n)};function S(v){bt[v?"unshift":"push"](()=>{u=v,l(1,u)})}return e.$$set=v=>{"config"in v&&l(0,n=v.config)},[n,u,i,s,o,f,d,m,g,p,h,b,$,E,C,T,P,z,y,S]}class en extends Xe{constructor(t){super();Ke(this,t,xl,Zl,We,{config:0},null,[-1,-1])}}function al(e,t,l){const n=e.slice();return n[10]=t[l],n[12]=l,n}function ul(e,t,l){const n=e.slice();return n[13]=t[l],n[14]=t,n[12]=l,n}function fl(e,t,l){const n=e.slice();return n[15]=t[l],n}function cl(e,t,l){const n=e.slice();return n[13]=t[l],n[12]=l,n}function pl(e){let t,l,n,i,s,o,f=e[0].permissions,u=[];for(let m=0;m<f.length;m+=1)u[m]=dl(cl(e,f,m));let _=e[0].permissions,d=[];for(let m=0;m<_.length;m+=1)d[m]=ml(ul(e,_,m));return{c(){t=c("div"),l=c("p"),l.textContent=`${e[3]("Permissions")}`,n=w(),i=c("div"),s=c("div");for(let m=0;m<u.length;m+=1)u[m].c();o=w();for(let m=0;m<d.length;m+=1)d[m].c();a(s,"class","flex flex-row space-x-2"),a(i,"class","p-2 bg-white space-y-2"),a(t,"class","flex-1")},m(m,g){N(m,t,g),r(t,l),r(t,n),r(t,i),r(i,s);for(let p=0;p<u.length;p+=1)u[p].m(s,null);r(i,o);for(let p=0;p<d.length;p+=1)d[p].m(i,null)},p(m,g){if(g&5){f=m[0].permissions;let p;for(p=0;p<f.length;p+=1){const h=cl(m,f,p);u[p]?u[p].p(h,g):(u[p]=dl(h),u[p].c(),u[p].m(s,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=f.length}if(g&15){_=m[0].permissions;let p;for(p=0;p<_.length;p+=1){const h=ul(m,_,p);d[p]?d[p].p(h,g):(d[p]=ml(h),d[p].c(),d[p].m(i,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=_.length}},d(m){m&&D(t),se(u,m),se(d,m)}}}function dl(e){let t,l=e[13].name+"",n,i,s,o,f;function u(){return e[5](e[12])}return{c(){t=c("div"),n=F(l),i=w(),a(t,"class",s="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(e[2].name===e[13].name&&"bg-blue-500 text-white"))},m(_,d){N(_,t,d),r(t,n),r(t,i),o||(f=L(t,"click",u),o=!0)},p(_,d){e=_,d&1&&l!==(l=e[13].name+"")&&re(n,l),d&5&&s!==(s="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(e[2].name===e[13].name&&"bg-blue-500 text-white"))&&a(t,"class",s)},d(_){_&&D(t),o=!1,f()}}}function tn(e){let t,l,n,i;return{c(){t=oe("svg"),l=oe("path"),n=oe("line"),i=oe("line"),a(l,"stroke","none"),a(l,"d","M0 0h24v24H0z"),a(l,"fill","none"),a(n,"x1","18"),a(n,"y1","6"),a(n,"x2","6"),a(n,"y2","18"),a(i,"x1","6"),a(i,"y1","6"),a(i,"x2","18"),a(i,"y2","18"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"width","24"),a(t,"height","24"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","2"),a(t,"stroke","currentColor"),a(t,"fill","none"),a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round")},m(s,o){N(s,t,o),r(t,l),r(t,n),r(t,i)},d(s){s&&D(t)}}}function ln(e){let t,l,n,i;return{c(){t=oe("svg"),l=oe("path"),n=oe("path"),i=oe("path"),a(l,"stroke","none"),a(l,"d","M0 0h24v24H0z"),a(l,"fill","none"),a(n,"d","M7 12l5 5l10 -10"),a(i,"d","M2 12l5 5m5 -5l5 -5"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"width","24"),a(t,"height","24"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","2"),a(t,"stroke","currentColor"),a(t,"fill","none"),a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round")},m(s,o){N(s,t,o),r(t,l),r(t,n),r(t,i)},d(s){s&&D(t)}}}function _l(e){let t,l,n,i,s,o,f=e[15]+"",u,_,d,m;e[7][1][e[12]]=[];function g(){e[6].call(l,e[13],e[12])}return{c(){t=c("label"),l=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(l,"type","checkbox"),l.__value=n=e[15],l.value=l.__value,a(l,"name",i=""+(e[0].names.permission+"["+e[13].id+"][capabilities][]")),e[7][1][e[12]].push(l)},m(p,h){N(p,t,h),r(t,l),l.checked=~e[1][e[13].id].capabilities.indexOf(l.__value),r(t,s),r(t,o),r(o,u),r(t,_),d||(m=L(l,"change",g),d=!0)},p(p,h){e=p,h&1&&n!==(n=e[15])&&(l.__value=n,l.value=l.__value),h&1&&i!==(i=""+(e[0].names.permission+"["+e[13].id+"][capabilities][]"))&&a(l,"name",i),h&3&&(l.checked=~e[1][e[13].id].capabilities.indexOf(l.__value)),h&1&&f!==(f=e[15]+"")&&re(u,f)},d(p){p&&D(t),e[7][1][e[12]].splice(e[7][1][e[12]].indexOf(l),1),d=!1,m()}}}function ml(e){let t,l,n,i,s,o,f,u,_;function d(b,$){return b[13].logged_required?ln:tn}let m=d(e),g=m(e),p=e[13].capabilities||[],h=[];for(let b=0;b<p.length;b+=1)h[b]=_l(fl(e,p,b));return{c(){t=c("div"),l=c("div"),n=c("span"),n.textContent=`${e[3]("Signed required")}`,i=w(),g.c(),s=w(),o=c("div"),f=c("span"),f.textContent=`${e[3]("Capabilities")}`,u=w();for(let b=0;b<h.length;b+=1)h[b].c();_=w(),a(l,"class","flex items-center"),a(o,"class","flex items-center space-x-2"),a(t,"class","p-1"),at(t,"hidden",e[13].name!==e[2].name)},m(b,$){N(b,t,$),r(t,l),r(l,n),r(l,i),g.m(l,null),r(t,s),r(t,o),r(o,f),r(o,u);for(let E=0;E<h.length;E+=1)h[E].m(o,null);r(t,_)},p(b,$){if(m!==(m=d(b))&&(g.d(1),g=m(b),g&&(g.c(),g.m(l,null))),$&3){p=b[13].capabilities||[];let E;for(E=0;E<p.length;E+=1){const C=fl(b,p,E);h[E]?h[E].p(C,$):(h[E]=_l(C),h[E].c(),h[E].m(o,null))}for(;E<h.length;E+=1)h[E].d(1);h.length=p.length}$&5&&at(t,"hidden",b[13].name!==b[2].name)},d(b){b&&D(t),g.d(),se(h,b)}}}function hl(e){let t,l,n,i,s,o=e[10]+"",f,u,_,d;return{c(){t=c("label"),l=c("input"),s=w(),f=F(o),u=w(),a(l,"type","checkbox"),l.__value=n=e[10],l.value=l.__value,a(l,"name",i=""+(e[0].names.countries+"[]")),e[7][0].push(l)},m(m,g){N(m,t,g),r(t,l),l.checked=~e[0].countries.indexOf(l.__value),r(t,s),r(t,f),r(t,u),_||(d=L(l,"change",e[8]),_=!0)},p(m,g){g&1&&n!==(n=m[10])&&(l.__value=n,l.value=l.__value),g&1&&i!==(i=""+(m[0].names.countries+"[]"))&&a(l,"name",i),g&1&&(l.checked=~m[0].countries.indexOf(l.__value)),g&1&&o!==(o=m[10]+"")&&re(f,o)},d(m){m&&D(t),e[7][0].splice(e[7][0].indexOf(l),1),_=!1,d()}}}function nn(e){let t,l,n,i,s,o,f,u,_,d,m,g,p,h,b,$,E,C,T,P,z,y,S=e[2]&&pl(e),v=e[0].base_countries,k=[];for(let O=0;O<v.length;O+=1)k[O]=hl(al(e,v,O));return{c(){t=c("div"),l=c("div"),n=c("div"),i=c("label"),s=c("p"),s.textContent=`${e[3]("Abstract")}`,o=w(),f=c("textarea"),d=w(),m=c("div"),g=c("label"),p=c("div"),p.textContent=`${e[3]("Decorative image")}`,h=w(),b=c("input"),E=w(),S&&S.c(),C=w(),T=c("div"),P=c("p"),P.textContent=`${e[3]("Countries")}`,z=w(),y=c("div");for(let O=0;O<k.length;O+=1)k[O].c();a(f,"name",u=e[0].names.abstract),a(f,"class","w-full"),f.value=_=e[0].abstract,a(i,"class","space-y-1"),a(n,"class","flex flex-col"),a(b,"type","file"),a(b,"accept","image/png, image/jpeg"),a(b,"name",$=e[0].names.image),a(m,"class","flex flex-col"),a(l,"class","space-y-3 flex-1"),a(t,"class","flex flex-row space-x-2"),a(y,"class","flex flex-row flex-wrap space-x-2")},m(O,j){N(O,t,j),r(t,l),r(l,n),r(n,i),r(i,s),r(i,o),r(i,f),r(l,d),r(l,m),r(m,g),r(g,p),r(g,h),r(g,b),r(t,E),S&&S.m(t,null),N(O,C,j),N(O,T,j),r(T,P),r(T,z),r(T,y);for(let q=0;q<k.length;q+=1)k[q].m(y,null)},p(O,[j]){if(j&1&&u!==(u=O[0].names.abstract)&&a(f,"name",u),j&1&&_!==(_=O[0].abstract)&&(f.value=_),j&1&&$!==($=O[0].names.image)&&a(b,"name",$),O[2]?S?S.p(O,j):(S=pl(O),S.c(),S.m(t,null)):S&&(S.d(1),S=null),j&1){v=O[0].base_countries;let q;for(q=0;q<v.length;q+=1){const ee=al(O,v,q);k[q]?k[q].p(ee,j):(k[q]=hl(ee),k[q].c(),k[q].m(y,null))}for(;q<k.length;q+=1)k[q].d(1);k.length=v.length}},i:R,o:R,d(O){O&&D(t),S&&S.d(),O&&D(C),O&&D(T),se(k,O)}}}function sn(e,t,l){const n={names:{abstract:"mc_metabox_abstract",image:"mc_metabox_image",permission:"mc_metabox_permission",countries:"mc_metabox_countries"},abstract:"",permissions:[],selections:{},i18n:{}};let{config:i={}}=t;i.permissions||(i.permissions=[]),i.base_countries||(i.base_countries=[]),i.countries||(i.countries=[]);const s=it(it({},n),i||{});Lt(s.permissions,s.selections||[],p=>p.name,p=>({name:p.name,post_types:[],capabilities:[]}));const o=zt(s.selections,p=>p.name),f=dt(s.i18n);let u=s.permissions[0];const _=[[],[]],d=p=>l(2,u=s.permissions[p]);function m(p,h){o[p.id].capabilities=rt(_[1][h],this.__value,this.checked),l(1,o)}function g(){s.countries=rt(_[0],this.__value,this.checked),l(0,s)}return e.$$set=p=>{"config"in p&&l(4,i=p.config)},[s,o,u,f,i,d,m,_,g]}class on extends Xe{constructor(t){super();Ke(this,t,sn,nn,We,{config:4})}}function rn(e){const t=e-1;return t*t*t+1}function an(e,{delay:t=0,duration:l=400,easing:n=rn,x:i=0,y:s=0,opacity:o=0}={}){const f=getComputedStyle(e),u=+f.opacity,_=f.transform==="none"?"":f.transform,d=u*(1-o);return{delay:t,duration:l,easing:n,css:(m,g)=>`
			transform: ${_} translate(${(1-m)*i}px, ${(1-m)*s}px);
			opacity: ${u-d*g}`}}function gl(e){let t,l;return{c(){t=c("div"),l=F(e[0]),a(t,"class","font-bold z-index-10")},m(n,i){N(n,t,i),r(t,l)},p(n,i){i&1&&re(l,n[0])},d(n){n&&D(t)}}}function un(e){let t,l,n,i,s=e[0]&&gl(e);const o=e[2].default,f=Ml(o,e,e[1],null);return{c(){t=c("div"),s&&s.c(),l=w(),n=c("div"),f&&f.c(),a(n,"class","flex flex-col space-y-2 flex-1 justify-center"),a(t,"class","flex flex-col space-y-2 flex-1 justify-center")},m(u,_){N(u,t,_),s&&s.m(t,null),r(t,l),r(t,n),f&&f.m(n,null),i=!0},p(u,[_]){u[0]?s?s.p(u,_):(s=gl(u),s.c(),s.m(t,l)):s&&(s.d(1),s=null),f&&f.p&&(!i||_&2)&&Pl(f,o,u,u[1],i?El(o,u[1],_,null):jl(u[1]),null)},i(u){i||(K(f,u),i=!0)},o(u){ce(f,u),i=!1},d(u){u&&D(t),s&&s.d(),f&&f.d(u)}}}function fn(e,t,l){let{$$slots:n={},$$scope:i}=t,{label:s=""}=t;return e.$$set=o=>{"label"in o&&l(0,s=o.label),"$$scope"in o&&l(1,i=o.$$scope)},[s,i,n]}class Pe extends Xe{constructor(t){super();Ke(this,t,fn,un,We,{label:0})}}function cn(e){let t;return{c(){t=c("span"),t.textContent=`${e[4]("Login")}/${e[4]("register")}`},m(l,n){N(l,t,n)},p:R,d(l){l&&D(t)}}}function pn(e){let t,l,n,i,s;return{c(){t=c("div"),l=c("img"),ot(l.src,n=e[2].avatarUrl)||a(l,"src",n),a(l,"alt","Avatar"),a(l,"class","w-32px h-32px rounded-full shadow-lg object-cover"),a(t,"class","flex flex-row space-x-2 cursor-pointer items-center")},m(o,f){N(o,t,f),r(t,l),i||(s=L(t,"click",e[6]),i=!0)},p(o,f){f&4&&!ot(l.src,n=o[2].avatarUrl)&&a(l,"src",n)},d(o){o&&D(t),i=!1,s()}}}function vl(e){let t,l,n,i,s,o,f,u,_,d,m=e[0].display_name+"",g,p,h,b,$,E,C,T,P,z,y,S,v,k,O,j,q,ee,pe,de,Qe,ae,Ye,_e,De,Ne,te,ue,Ze,le,ne,Te,he,we,X,xe,ie,je,et,ke,Ue,Se,ye,$e,fe,ge;v=new Pe({props:{label:e[4]("Name"),$$slots:{default:[dn]},$$scope:{ctx:e}}}),O=new Pe({props:{label:e[4]("Email"),$$slots:{default:[_n]},$$scope:{ctx:e}}}),ee=new Pe({props:{label:e[4]("Website"),$$slots:{default:[mn]},$$scope:{ctx:e}}}),de=new Pe({props:{label:e[4]("Select image"),$$slots:{default:[hn]},$$scope:{ctx:e}}}),ae=new Pe({props:{label:e[4]("About me"),$$slots:{default:[gn]},$$scope:{ctx:e}}}),ue=new Pe({props:{label:e[4]("Current password"),$$slots:{default:[vn]},$$scope:{ctx:e}}}),ne=new Pe({props:{label:e[4]("New password"),$$slots:{default:[bn]},$$scope:{ctx:e}}}),he=new Pe({props:{label:e[4]("Confirm password"),$$slots:{default:[wn]},$$scope:{ctx:e}}});let W=e[3]&&bl(e);return{c(){t=c("div"),l=c("div"),n=w(),i=c("div"),s=c("div"),o=c("div"),f=c("img"),_=w(),d=c("div"),g=F(m),p=w(),h=c("div"),b=w(),$=oe("svg"),E=oe("path"),C=oe("line"),T=oe("line"),P=w(),z=c("div"),y=c("div"),S=c("div"),Ee(v.$$.fragment),k=w(),Ee(O.$$.fragment),j=w(),q=c("div"),Ee(ee.$$.fragment),pe=w(),Ee(de.$$.fragment),Qe=w(),Ee(ae.$$.fragment),Ye=w(),_e=c("details"),De=c("summary"),De.textContent=`${e[4]("Security")}`,Ne=w(),te=c("div"),Ee(ue.$$.fragment),Ze=w(),le=c("div"),Ee(ne.$$.fragment),Te=w(),Ee(he.$$.fragment),we=w(),X=c("div"),W&&W.c(),xe=w(),ie=c("div"),je=c("div"),je.textContent=`${e[4]("Cancel")}`,et=w(),ke=c("div"),Ue=w(),Se=c("div"),Se.textContent=`${e[4]("Save")}`,a(l,"class","absolute top-0 left-0 bg-black opacity-90 w-full h-full"),ot(f.src,u=e[2].avatarUrl)||a(f,"src",u),a(f,"alt","img"),a(f,"class","w-32px h-32px rounded-full items-center shadow-lg object-cover"),a(o,"class","flex flex-row space-x-2 items-center"),a(h,"class","flex-1"),a(E,"stroke","none"),a(E,"d","M0 0h24v24H0z"),a(E,"fill","none"),a(C,"x1","18"),a(C,"y1","6"),a(C,"x2","6"),a(C,"y2","18"),a(T,"x1","6"),a(T,"y1","6"),a(T,"x2","18"),a(T,"y2","18"),a($,"xmlns","http://www.w3.org/2000/svg"),a($,"width","24"),a($,"height","24"),a($,"viewBox","0 0 24 24"),a($,"stroke-width","2"),a($,"stroke","currentColor"),a($,"fill","none"),a($,"stroke-linecap","round"),a($,"stroke-linejoin","round"),a(s,"class","flex flex-row py-5 px-2 bg-cool-gray-100 relative"),a(S,"class","flex flex-col md:flex-row md:space-x-5"),a(q,"class","flex flex-col md:flex-row md:space-x-5"),a(De,"class","font-bold"),a(le,"class","flex flex-row space-x-5"),a(te,"class","space-y-3 mt-5"),a(y,"class","space-y-5 flex flex-col bg-white p-3"),a(z,"class","flex-1 p-2 container mx-auto flex overflow-auto"),a(je,"class","cursor-pointer"),a(ke,"class","flex-1"),a(Se,"class","transition-all bg-blue-500 text-white p-2 rounded shadow-lg inline-block w-35 text-center cursor-pointer"),a(ie,"class","flex flex-row space-x-2 font-bold items-center"),a(X,"class","py-3 px-2 bg-cool-gray-100"),a(i,"class","rounded-lg w-auto max-h-4/5 bg-white overflow-hidden shadow-md flex flex-col z-index-10"),a(t,"class","flex justify-center items-center fixed top-0 left-0 w-full h-full z-index-20")},m(U,H){N(U,t,H),r(t,l),r(t,n),r(t,i),r(i,s),r(s,o),r(o,f),r(o,_),r(o,d),r(d,g),r(s,p),r(s,h),r(s,b),r(s,$),r($,E),r($,C),r($,T),r(i,P),r(i,z),r(z,y),r(y,S),ve(v,S,null),r(S,k),ve(O,S,null),r(y,j),r(y,q),ve(ee,q,null),r(q,pe),ve(de,q,null),r(y,Qe),ve(ae,y,null),r(y,Ye),r(y,_e),r(_e,De),r(_e,Ne),r(_e,te),ve(ue,te,null),r(te,Ze),r(te,le),ve(ne,le,null),r(le,Te),ve(he,le,null),r(i,we),r(i,X),W&&W.m(X,null),r(X,xe),r(X,ie),r(ie,je),r(ie,et),r(ie,ke),r(ie,Ue),r(ie,Se),$e=!0,fe||(ge=[L($,"click",e[7]),L(je,"click",e[16]),L(Se,"click",e[17])],fe=!0)},p(U,H){(!$e||H&4&&!ot(f.src,u=U[2].avatarUrl))&&a(f,"src",u),(!$e||H&1)&&m!==(m=U[0].display_name+"")&&re(g,m);const tt={};H&4194308&&(tt.$$scope={dirty:H,ctx:U}),v.$set(tt);const Ae={};H&4194308&&(Ae.$$scope={dirty:H,ctx:U}),O.$set(Ae);const lt={};H&4194308&&(lt.$$scope={dirty:H,ctx:U}),ee.$set(lt);const He={};H&4194308&&(He.$$scope={dirty:H,ctx:U}),de.$set(He);const nt={};H&4194308&&(nt.$$scope={dirty:H,ctx:U}),ae.$set(nt);const Ce={};H&4194308&&(Ce.$$scope={dirty:H,ctx:U}),ue.$set(Ce);const I={};H&4194308&&(I.$$scope={dirty:H,ctx:U}),ne.$set(I);const mt={};H&4194308&&(mt.$$scope={dirty:H,ctx:U}),he.$set(mt),U[3]?W?W.p(U,H):(W=bl(U),W.c(),W.m(X,xe)):W&&(W.d(1),W=null)},i(U){$e||(K(v.$$.fragment,U),K(O.$$.fragment,U),K(ee.$$.fragment,U),K(de.$$.fragment,U),K(ae.$$.fragment,U),K(ue.$$.fragment,U),K(ne.$$.fragment,U),K(he.$$.fragment,U),ye||Ge(()=>{ye=Vl(t,an,{y:-10}),ye.start()}),$e=!0)},o(U){ce(v.$$.fragment,U),ce(O.$$.fragment,U),ce(ee.$$.fragment,U),ce(de.$$.fragment,U),ce(ae.$$.fragment,U),ce(ue.$$.fragment,U),ce(ne.$$.fragment,U),ce(he.$$.fragment,U),$e=!1},d(U){U&&D(t),be(v),be(O),be(ee),be(de),be(ae),be(ue),be(ne),be(he),W&&W.d(),fe=!1,Me(ge)}}}function dn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","text"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),J(t,e[2].name),l||(n=L(t,"input",e[8]),l=!0)},p(i,s){s&4&&t.value!==i[2].name&&J(t,i[2].name)},d(i){i&&D(t),l=!1,n()}}}function _n(e){let t,l,n;return{c(){t=c("input"),a(t,"type","email"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),J(t,e[2].email),l||(n=L(t,"input",e[9]),l=!0)},p(i,s){s&4&&t.value!==i[2].email&&J(t,i[2].email)},d(i){i&&D(t),l=!1,n()}}}function mn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","text"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),J(t,e[2].website),l||(n=L(t,"input",e[10]),l=!0)},p(i,s){s&4&&t.value!==i[2].website&&J(t,i[2].website)},d(i){i&&D(t),l=!1,n()}}}function hn(e){let t,l,n,i=(e[2].file&&e[2].file.name||e[4]("Select image"))+"",s,o,f;return{c(){t=c("label"),l=c("input"),n=w(),s=F(i),a(l,"type","file"),a(l,"class","hidden"),a(l,"accept","image/png,image/jpeg"),a(t,"class","p-2 rounded ring-2 ring-gray-100 cursor-pointer hover:ring-blue-500 hover:shadow-lg")},m(u,_){N(u,t,_),r(t,l),r(t,n),r(t,s),o||(f=L(l,"change",e[11]),o=!0)},p(u,_){_&4&&i!==(i=(u[2].file&&u[2].file.name||u[4]("Select image"))+"")&&re(s,i)},d(u){u&&D(t),o=!1,f()}}}function gn(e){let t,l,n;return{c(){t=c("textarea"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),J(t,e[2].description),l||(n=L(t,"input",e[12]),l=!0)},p(i,s){s&4&&J(t,i[2].description)},d(i){i&&D(t),l=!1,n()}}}function vn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","password"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),J(t,e[2].current_pwd),l||(n=L(t,"input",e[13]),l=!0)},p(i,s){s&4&&t.value!==i[2].current_pwd&&J(t,i[2].current_pwd)},d(i){i&&D(t),l=!1,n()}}}function bn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","password"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),J(t,e[2].new_password),l||(n=L(t,"input",e[14]),l=!0)},p(i,s){s&4&&t.value!==i[2].new_password&&J(t,i[2].new_password)},d(i){i&&D(t),l=!1,n()}}}function wn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","password"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),J(t,e[2].confirm_password),l||(n=L(t,"input",e[15]),l=!0)},p(i,s){s&4&&t.value!==i[2].confirm_password&&J(t,i[2].confirm_password)},d(i){i&&D(t),l=!1,n()}}}function bl(e){let t;function l(s,o){return s[3].validationType==="success"?yn:kn}let n=l(e),i=n(e);return{c(){i.c(),t=At()},m(s,o){i.m(s,o),N(s,t,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(t.parentNode,t)))},d(s){i.d(s),s&&D(t)}}}function kn(e){let t,l=e[3].validationMessage+"",n;return{c(){t=c("div"),n=F(l),a(t,"class","border-2 border-red-300 rounded-full p-2 my-2 bg-white")},m(i,s){N(i,t,s),r(t,n)},p(i,s){s&8&&l!==(l=i[3].validationMessage+"")&&re(n,l)},d(i){i&&D(t)}}}function yn(e){let t,l=e[3].validationMessage+"",n;return{c(){t=c("div"),n=F(l),a(t,"class","border-2 border-green-300 rounded-full p-2 my-2 bg-white")},m(i,s){N(i,t,s),r(t,n)},p(i,s){s&8&&l!==(l=i[3].validationMessage+"")&&re(n,l)},d(i){i&&D(t)}}}function $n(e){let t,l,n;function i(u,_){return u[0].isLogged?pn:cn}let s=i(e),o=s(e),f=e[1]&&vl(e);return{c(){o.c(),t=w(),f&&f.c(),l=At()},m(u,_){o.m(u,_),N(u,t,_),f&&f.m(u,_),N(u,l,_),n=!0},p(u,[_]){s===(s=i(u))&&o?o.p(u,_):(o.d(1),o=s(u),o&&(o.c(),o.m(t.parentNode,t))),u[1]?f?(f.p(u,_),_&2&&K(f,1)):(f=vl(u),f.c(),K(f,1),f.m(l.parentNode,l)):f&&(Fl(),ce(f,1,1,()=>{f=null}),Wl())},i(u){n||(K(f),n=!0)},o(u){ce(f),n=!1},d(u){o.d(u),u&&D(t),f&&f.d(u),u&&D(l)}}}function Cn(e,t,l){let{config:n={isLogged:!0,url:"https://google.com.uy",user_avatar_url:"",display_name:"Joaquin",user_email:"joaquinvelazquezcamacho@gmail.com",user_url:"https://google.com.uy",description:"pepe",i18n:{}}}=t;const i=dt(n.i18n||{});let s=!1,o={name:n.display_name,email:n.user_email,website:n.user_url,avatarUrl:n.user_avatar_url,description:n.description,file:void 0,current_pwd:void 0,new_password:void 0,confirm_password:void 0},f=!0,u=null;function _(){if(f){if(f=!1,Le(o.name))return;if(Le(o.email)){f=!0;return}const y=new FormData;if(yt(o.current_pwd)||yt(o.new_password)||yt(o.confirm_password)){if(Le(o.current_pwd)||Le(o.new_password)||Le(o.confirm_password)||o.new_password!==o.confirm_password)return;y.append("current_pwd",o.current_pwd),y.append("new_password",o.new_password),y.append("confirm_password",o.confirm_password)}o.file&&y.append("file",o.file),o.name&&y.append("display_name",o.name),o.email&&y.append("user_email",o.email),o.website&&y.append("user_url",o.website),o.description&&y.append("description",o.description),fetch("/wp-json/mcplugin/v1/user",{method:"POST",headers:{accept:"application/json",enctype:"multipart/form-data","X-WP-Nonce":MCApp.nonce},body:y}).then(S=>S.json()).then(S=>{l(3,u={});const v=S.userData;l(2,o.name=v.display_name||o.name,o),l(2,o.email=v.user_email||o.email,o),l(2,o.website=v.user_url||o.website,o),l(2,o.description=v.description||o.description,o),v.user_avatar_url&&l(2,o.avatarUrl=v.user_avatar_url,o),f=!0,l(3,u.validationType="success",u),l(3,u.validationMessage="Changes saved",u)}).catch(S=>{console.log(S),f=!0,l(3,u.validationType="error",u),l(3,u.validationMessage="Can\xB4t save changes",u)}).finally(()=>{setTimeout(()=>l(3,u=null),3e3)})}}const d=()=>l(1,s=!0),m=()=>l(1,s=!1);function g(){o.name=this.value,l(2,o)}function p(){o.email=this.value,l(2,o)}function h(){o.website=this.value,l(2,o)}const b=y=>{l(2,o.file=y.target.files[0],o),console.log(o)};function $(){o.description=this.value,l(2,o)}function E(){o.current_pwd=this.value,l(2,o)}function C(){o.new_password=this.value,l(2,o)}function T(){o.confirm_password=this.value,l(2,o)}const P=()=>l(1,s=!1),z=()=>_();return e.$$set=y=>{"config"in y&&l(0,n=y.config)},[n,s,o,u,i,_,d,m,g,p,h,b,$,E,C,T,P,z]}class Mn extends Xe{constructor(t){super();Ke(this,t,Cn,$n,We,{config:0})}}function _t(e,t){Array.from(document.getElementsByClassName(e)).forEach(l=>t(l))}function En(e,t){_t(e,l=>new Ql({target:l,props:{config:t}}))}function Pn(e,t){_t(e,l=>new en({target:l,props:{config:t}}))}function jn(e,t){_t(e,l=>new on({target:l,props:{config:t}}))}function Sn(e,t){_t(e,l=>new Mn({target:l,props:{config:t}}))}B.renderMetaPost=jn,B.renderPermissionEditor=Pn,B.renderProfile=Sn,B.renderUserPermissions=En,Object.defineProperty(B,"__esModule",{value:!0}),B[Symbol.toStringTag]="Module"});
