var On=Object.defineProperty;var vl=Object.getOwnPropertySymbols;var Sn=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable;var bl=(B,K,R)=>K in B?On(B,K,{enumerable:!0,configurable:!0,writable:!0,value:R}):B[K]=R,nt=(B,K)=>{for(var R in K||(K={}))Sn.call(K,R)&&bl(B,R,K[R]);if(vl)for(var R of vl(K))An.call(K,R)&&bl(B,R,K[R]);return B};(function(B,K){typeof exports=="object"&&typeof module!="undefined"?K(exports):typeof define=="function"&&define.amd?define(["exports"],K):(B=typeof globalThis!="undefined"?globalThis:B||self,K(B.MC_SVELTE_LIB={}))})(this,function(B){"use strict";var K="";function R(){}const wl=e=>e;function kl(e,t){for(const l in t)e[l]=t[l];return e}function kt(e){return e()}function yt(){return Object.create(null)}function je(e){e.forEach(kt)}function $t(e){return typeof e=="function"}function Ve(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let it;function st(e,t){return it||(it=document.createElement("a")),it.href=t,e===it.href}function yl(e){return Object.keys(e).length===0}function $l(e,t,l,n){if(e){const i=Ct(e,t,l,n);return e[0](i)}}function Ct(e,t,l,n){return e[1]&&n?kl(l.ctx.slice(),e[1](n(t))):l.ctx}function Cl(e,t,l,n){if(e[2]&&n){const i=e[2](n(l));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(t.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=t.dirty[f]|i[f];return s}return t.dirty|i}return t.dirty}function Ml(e,t,l,n,i,s){if(i){const o=Ct(t,l,n,s);e.p(o,i)}}function El(e){if(e.ctx.length>32){const t=[],l=e.ctx.length/32;for(let n=0;n<l;n++)t[n]=-1;return t}return-1}const Mt=typeof window!="undefined";let Pl=Mt?()=>window.performance.now():()=>Date.now(),_t=Mt?e=>requestAnimationFrame(e):R;const Te=new Set;function Et(e){Te.forEach(t=>{t.c(e)||(Te.delete(t),t.f())}),Te.size!==0&&_t(Et)}function jl(e){let t;return Te.size===0&&_t(Et),{promise:new Promise(l=>{Te.add(t={c:e,f:l})}),abort(){Te.delete(t)}}}function r(e,t){e.appendChild(t)}function Pt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ol(e){const t=c("style");return Sl(Pt(e),t),t}function Sl(e,t){r(e.head||e,t)}function N(e,t,l){e.insertBefore(t,l||null)}function D(e){e.parentNode.removeChild(e)}function oe(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function c(e){return document.createElement(e)}function re(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function F(e){return document.createTextNode(e)}function w(){return F(" ")}function jt(){return F("")}function L(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function a(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Ge(e,t,l){const n=new Set;for(let i=0;i<e.length;i+=1)e[i].checked&&n.add(e[i].__value);return l||n.delete(t),Array.from(n)}function Al(e){return Array.from(e.childNodes)}function ae(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Q(e,t){e.value=t==null?"":t}function ot(e,t,l){e.classList[l?"add":"remove"](t)}function Dl(e,t,l=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,l,!1,t),n}const ht=new Set;let rt=0;function Nl(e){let t=5381,l=e.length;for(;l--;)t=(t<<5)-t^e.charCodeAt(l);return t>>>0}function Ul(e,t,l,n,i,s,o,f=0){const u=16.666/n;let _=`{
`;for(let y=0;y<=1;y+=u){const E=t+(l-t)*s(y);_+=y*100+`%{${o(E,1-E)}}
`}const h=_+`100% {${o(l,1-l)}}
}`,p=`__svelte_${Nl(h)}_${f}`,m=Pt(e);ht.add(m);const d=m.__svelte_stylesheet||(m.__svelte_stylesheet=Ol(e).sheet),g=m.__svelte_rules||(m.__svelte_rules={});g[p]||(g[p]=!0,d.insertRule(`@keyframes ${p} ${h}`,d.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${p} ${n}ms linear ${i}ms 1 both`,rt+=1,p}function Ot(e,t){const l=(e.style.animation||"").split(", "),n=l.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=l.length-n.length;i&&(e.style.animation=n.join(", "),rt-=i,rt||ql())}function ql(){_t(()=>{rt||(ht.forEach(e=>{const t=e.__svelte_stylesheet;let l=t.cssRules.length;for(;l--;)t.deleteRule(l);e.__svelte_rules={}}),ht.clear())})}let mt;function Je(e){mt=e}const Ke=[],gt=[],at=[],St=[],zl=Promise.resolve();let vt=!1;function Tl(){vt||(vt=!0,zl.then(At))}function Xe(e){at.push(e)}const bt=new Set;let ut=0;function At(){const e=mt;do{for(;ut<Ke.length;){const t=Ke[ut];ut++,Je(t),Ll(t.$$)}for(Je(null),Ke.length=0,ut=0;gt.length;)gt.pop()();for(let t=0;t<at.length;t+=1){const l=at[t];bt.has(l)||(bt.add(l),l())}at.length=0}while(Ke.length);for(;St.length;)St.pop()();vt=!1,bt.clear(),Je(e)}function Ll(e){if(e.fragment!==null){e.update(),je(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Xe)}}let Qe;function Hl(){return Qe||(Qe=Promise.resolve(),Qe.then(()=>{Qe=null})),Qe}function Dt(e,t,l){e.dispatchEvent(Dl(`${t?"intro":"outro"}${l}`))}const ft=new Set;let De;function Rl(){De={r:0,c:[],p:De}}function Bl(){De.r||je(De.c),De=De.p}function Y(e,t){e&&e.i&&(ft.delete(e),e.i(t))}function fe(e,t,l,n){if(e&&e.o){if(ft.has(e))return;ft.add(e),De.c.push(()=>{ft.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}}const Fl={duration:0};function Wl(e,t,l){let n=t(e,l),i=!1,s,o,f=0;function u(){s&&Ot(e,s)}function _(){const{delay:p=0,duration:m=300,easing:d=wl,tick:g=R,css:b}=n||Fl;b&&(s=Ul(e,0,1,m,p,d,b,f++)),g(0,1);const y=Pl()+p,E=y+m;o&&o.abort(),i=!0,Xe(()=>Dt(e,!0,"start")),o=jl(C=>{if(i){if(C>=E)return g(1,0),Dt(e,!0,"end"),u(),i=!1;if(C>=y){const q=d((C-y)/m);g(q,1-q)}}return i})}let h=!1;return{start(){h||(h=!0,Ot(e),$t(n)?(n=n(),Hl().then(_)):_())},invalidate(){h=!1},end(){i&&(u(),i=!1)}}}function Nt(e,t){e.d(1),t.delete(e.key)}function Ut(e,t,l,n,i,s,o,f,u,_,h,p){let m=e.length,d=s.length,g=m;const b={};for(;g--;)b[e[g].key]=g;const y=[],E=new Map,C=new Map;for(g=d;g--;){const k=p(i,s,g),O=l(k);let S=o.get(O);S?n&&S.p(k,t):(S=_(O,k),S.c()),E.set(O,y[g]=S),O in b&&C.set(O,Math.abs(g-b[O]))}const q=new Set,j=new Set;function T(k){Y(k,1),k.m(f,h),o.set(k.key,k),h=k.first,d--}for(;m&&d;){const k=y[d-1],O=e[m-1],S=k.key,P=O.key;k===O?(h=k.first,m--,d--):E.has(P)?!o.has(S)||q.has(S)?T(k):j.has(P)?m--:C.get(S)>C.get(P)?(j.add(S),T(k)):(q.add(P),m--):(u(O,o),m--)}for(;m--;){const k=e[m];E.has(k.key)||u(k,o)}for(;d;)T(y[d-1]);return y}function Oe(e){e&&e.c()}function ge(e,t,l,n){const{fragment:i,on_mount:s,on_destroy:o,after_update:f}=e.$$;i&&i.m(t,l),n||Xe(()=>{const u=s.map(kt).filter($t);o?o.push(...u):je(u),e.$$.on_mount=[]}),f.forEach(Xe)}function ve(e,t){const l=e.$$;l.fragment!==null&&(je(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Il(e,t){e.$$.dirty[0]===-1&&(Ke.push(e),Tl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ye(e,t,l,n,i,s,o,f=[-1]){const u=mt;Je(e);const _=e.$$={fragment:null,ctx:null,props:s,update:R,not_equal:i,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:yt(),dirty:f,skip_bound:!1,root:t.target||u.$$.root};o&&o(_.root);let h=!1;if(_.ctx=l?l(e,t.props||{},(p,m,...d)=>{const g=d.length?d[0]:m;return _.ctx&&i(_.ctx[p],_.ctx[p]=g)&&(!_.skip_bound&&_.bound[p]&&_.bound[p](g),h&&Il(e,p)),m}):[],_.update(),h=!0,je(_.before_update),_.fragment=n?n(_.ctx):!1,t.target){if(t.hydrate){const p=Al(t.target);_.fragment&&_.fragment.l(p),p.forEach(D)}else _.fragment&&_.fragment.c();t.intro&&Y(e.$$.fragment),ge(e,t.target,t.anchor,t.customElement),At()}Je(u)}class Ze{$destroy(){ve(this,1),this.$destroy=R}$on(t,l){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!yl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(e){return t=>e[t]||t}function qt(e,t){return Array.isArray(e)?e.reduce((l,n)=>(l[t(n)]=n,l),{}):e}function zt(e,t,l,n){if(Array.isArray(t)){const i=qt(t,l);e.forEach(s=>{const o=l(s);i[o]||t.push(n(s))})}else e.forEach(i=>{const s=l(i);t[s]||(t[s]=n(i))})}function Vl(e){return e==null}function wt(e){return!Le(e)}function Le(e){return Vl(e)||e.trim().length===0}function Tt(e,t,l){const n=e.slice();return n[11]=t[l],n[12]=t,n[13]=l,n}function Lt(e,t,l){const n=e.slice();return n[14]=t[l],n}function Ht(e,t,l){const n=e.slice();return n[14]=t[l],n}function Rt(e,t,l){const n=e.slice();return n[11]=t[l],n[13]=l,n}function Bt(e,t){let l,n=t[11].name+"",i,s,o,f,u;function _(){return t[6](t[13])}return{key:e,first:null,c(){l=c("div"),i=F(n),s=w(),a(l,"class",o="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(t[2].id===t[11].id&&"bg-blue-500 text-white")),this.first=l},m(h,p){N(h,l,p),r(l,i),r(l,s),f||(u=L(l,"click",_),f=!0)},p(h,p){t=h,p&4&&o!==(o="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(t[2].id===t[11].id&&"bg-blue-500 text-white"))&&a(l,"class",o)},d(h){h&&D(l),f=!1,u()}}}function Ft(e){let t,l,n,i,s,o,f=e[14]+"",u,_,h,p;e[8][1][e[13]]=[];function m(){e[7].call(n,e[11],e[13])}return{c(){t=c("div"),l=c("label"),n=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(n,"type","checkbox"),n.__value=e[14],n.value=n.__value,a(n,"name",i=""+(e[0].names.permission+"["+e[11].id+"][post_types][]")),e[8][1][e[13]].push(n)},m(d,g){N(d,t,g),r(t,l),r(l,n),n.checked=~e[1][e[11].id].post_types.indexOf(n.__value),r(l,s),r(l,o),r(o,u),r(t,_),h||(p=L(n,"change",m),h=!0)},p(d,g){e=d,g&1&&i!==(i=""+(e[0].names.permission+"["+e[11].id+"][post_types][]"))&&a(n,"name",i),g&10&&(n.checked=~e[1][e[11].id].post_types.indexOf(n.__value))},d(d){d&&D(t),e[8][1][e[13]].splice(e[8][1][e[13]].indexOf(n),1),h=!1,p()}}}function Wt(e){let t,l,n,i,s,o,f=e[14]+"",u,_,h,p;e[8][0][e[13]]=[];function m(){e[9].call(n,e[11],e[13])}return{c(){t=c("div"),l=c("label"),n=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(n,"type","checkbox"),n.__value=e[14],n.value=n.__value,a(n,"name",i=""+(e[0].names.permission+"["+e[11].id+"][capabilities][]")),e[8][0][e[13]].push(n)},m(d,g){N(d,t,g),r(t,l),r(l,n),n.checked=~e[1][e[11].id].capabilities.indexOf(n.__value),r(l,s),r(l,o),r(o,u),r(t,_),h||(p=L(n,"change",m),h=!0)},p(d,g){e=d,g&1&&i!==(i=""+(e[0].names.permission+"["+e[11].id+"][capabilities][]"))&&a(n,"name",i),g&10&&(n.checked=~e[1][e[11].id].capabilities.indexOf(n.__value))},d(d){d&&D(t),e[8][0][e[13]].splice(e[8][0][e[13]].indexOf(n),1),h=!1,p()}}}function It(e,t){let l,n,i,s,o,f,u,_,h,p,m,d,g=t[11].post_types,b=[];for(let C=0;C<g.length;C+=1)b[C]=Ft(Ht(t,g,C));let y=t[11].capabilities||[],E=[];for(let C=0;C<y.length;C+=1)E[C]=Wt(Lt(t,y,C));return{key:e,first:null,c(){l=c("input"),i=w(),s=c("div"),o=c("div"),f=c("div"),f.textContent=`${t[4]("Post types")}`,u=w();for(let C=0;C<b.length;C+=1)b[C].c();_=w(),h=c("div"),p=c("div"),p.textContent=`${t[4]("Capabilities")}`,m=w();for(let C=0;C<E.length;C+=1)E[C].c();d=w(),a(l,"type","hidden"),l.value=t[11].id,a(l,"name",n=""+(t[0].names.permission+"["+t[11].id+"][id]")),a(o,"class","flex-1"),a(h,"class","flex-1"),a(s,"class","p-2 flex flex-row"),ot(s,"hidden",t[11].id!==t[2].id),this.first=l},m(C,q){N(C,l,q),N(C,i,q),N(C,s,q),r(s,o),r(o,f),r(o,u);for(let j=0;j<b.length;j+=1)b[j].m(o,null);r(s,_),r(s,h),r(h,p),r(h,m);for(let j=0;j<E.length;j+=1)E[j].m(h,null);r(s,d)},p(C,q){if(t=C,q&1&&n!==(n=""+(t[0].names.permission+"["+t[11].id+"][id]"))&&a(l,"name",n),q&11){g=t[11].post_types;let j;for(j=0;j<g.length;j+=1){const T=Ht(t,g,j);b[j]?b[j].p(T,q):(b[j]=Ft(T),b[j].c(),b[j].m(o,null))}for(;j<b.length;j+=1)b[j].d(1);b.length=g.length}if(q&11){y=t[11].capabilities||[];let j;for(j=0;j<y.length;j+=1){const T=Lt(t,y,j);E[j]?E[j].p(T,q):(E[j]=Wt(T),E[j].c(),E[j].m(h,null))}for(;j<E.length;j+=1)E[j].d(1);E.length=y.length}q&12&&ot(s,"hidden",t[11].id!==t[2].id)},d(C){C&&D(l),C&&D(i),C&&D(s),oe(b,C),oe(E,C)}}}function Gl(e){let t,l,n=[],i=new Map,s,o=[],f=new Map,u=e[3];const _=m=>m[11].id;for(let m=0;m<u.length;m+=1){let d=Rt(e,u,m),g=_(d);i.set(g,n[m]=Bt(g,d))}let h=e[3];const p=m=>m[11].id;for(let m=0;m<h.length;m+=1){let d=Tt(e,h,m),g=p(d);f.set(g,o[m]=It(g,d))}return{c(){t=c("div"),l=c("div");for(let m=0;m<n.length;m+=1)n[m].c();s=w();for(let m=0;m<o.length;m+=1)o[m].c();a(l,"class","flex flex-row space-x-2"),a(t,"class","bg-white p-2 rounded")},m(m,d){N(m,t,d),r(t,l);for(let g=0;g<n.length;g+=1)n[g].m(l,null);r(t,s);for(let g=0;g<o.length;g+=1)o[g].m(t,null)},p(m,[d]){d&12&&(u=m[3],n=Ut(n,d,_,1,m,u,i,l,Nt,Bt,null,Rt)),d&31&&(h=m[3],o=Ut(o,d,p,1,m,h,f,t,Nt,It,null,Tt))},i:R,o:R,d(m){m&&D(t);for(let d=0;d<n.length;d+=1)n[d].d();for(let d=0;d<o.length;d+=1)o[d].d()}}}function Jl(e,t,l){const n={names:{permission:"mc_metabox_permission"},selections:{},i18n:{}};let{config:i={permissions:[],selections:{},i18n:{}}}=t;console.log(i);const s=nt(nt({},n),i||{});s.selections||(s.selections={}),zt(s.permissions,s.selections||{},g=>g.id,g=>({id:g.id,name:g.name,post_types:[],capabilities:[]})),Object.keys(s.selections||{}).forEach(g=>{const b=s.selections[g];b.post_types||(b.post_types=[]),b.capabilities||(b.capabilities=[])});const o=s.permissions,f=s.selections,u=ct(s.i18n||{});let _=o[0];const h=[[],[]],p=g=>l(2,_=o[g]);function m(g,b){f[g.id].post_types=Ge(h[1][b],this.__value,this.checked),l(1,f)}function d(g,b){f[g.id].capabilities=Ge(h[0][b],this.__value,this.checked),l(1,f)}return e.$$set=g=>{"config"in g&&l(5,i=g.config)},[s,f,_,o,u,i,p,m,h,d]}class Kl extends Ze{constructor(t){super();Ye(this,t,Jl,Gl,Ve,{config:5})}}function Vt(e,t,l){const n=e.slice();return n[25]=t[l],n[27]=l,n}function Gt(e,t,l){const n=e.slice();return n[28]=t[l],n[29]=t,n[30]=l,n}function Jt(e,t,l){const n=e.slice();return n[31]=t[l],n}function Kt(e,t,l){const n=e.slice();return n[31]=t[l],n}function Xt(e,t,l){const n=e.slice();return n[36]=t[l],n[38]=l,n}function Qt(e,t,l){const n=e.slice();return n[31]=t[l],n}function Yt(e){let t,l;return{c(){t=c("input"),a(t,"type","hidden"),a(t,"name","permissions["+e[30]+"][id]"),t.value=l=e[28].id},m(n,i){N(n,t,i)},p(n,i){i[0]&1&&l!==(l=n[28].id)&&(t.value=l)},d(n){n&&D(t)}}}function Zt(e){let t,l,n,i,s=e[31]+"",o,f,u,_;e[13][0][e[30]]=[];function h(){e[12].call(l,e[29],e[30])}return{c(){t=c("label"),l=c("input"),n=w(),i=c("span"),o=F(s),f=w(),a(l,"type","checkbox"),l.__value=e[31],l.value=l.__value,a(l,"name","permissions["+e[30]+"][post_types][]"),e[13][0][e[30]].push(l),a(t,"class","items-center")},m(p,m){N(p,t,m),r(t,l),l.checked=~e[28].post_types.indexOf(l.__value),r(t,n),r(t,i),r(i,o),r(t,f),u||(_=L(l,"change",h),u=!0)},p(p,m){e=p,m[0]&1&&(l.checked=~e[28].post_types.indexOf(l.__value))},d(p){p&&D(t),e[13][0][e[30]].splice(e[13][0][e[30]].indexOf(l),1),u=!1,_()}}}function xt(e){let t,l,n,i,s,o,f=e[36]+"",u,_,h,p,m,d;function g(){return e[15](e[28],e[38],e[29],e[30])}return{c(){t=c("div"),l=c("input"),i=w(),s=c("div"),o=c("span"),u=F(f),_=w(),h=c("span"),h.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" class="cursor-pointer" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',p=w(),a(l,"type","hidden"),l.value=n=e[36],a(l,"name","permissions["+e[30]+"][capabilities][]"),a(h,"class","ml-2 font-bold"),a(s,"class","flex shadow items-center bg-blue-500 text-white fill-white rounded mr-1 px-1"),a(t,"class","w-auto")},m(b,y){N(b,t,y),r(t,l),r(t,i),r(t,s),r(s,o),r(o,u),r(s,_),r(s,h),r(t,p),m||(d=L(h,"click",g),m=!0)},p(b,y){e=b,y[0]&1&&n!==(n=e[36])&&(l.value=n),y[0]&1&&f!==(f=e[36]+"")&&ae(u,f)},d(b){b&&D(t),m=!1,d()}}}function el(e){let t,l,n,i,s,o,f=e[31]+"",u,_;return{c(){t=c("label"),l=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(l,"type","checkbox"),l.value=n=e[31],a(l,"name","defaults[user]["+e[30]+"][post_types][]"),l.checked=i=e[0].defaults.user[e[30]].post_types.includes(e[31]),a(t,"class","flex items-center")},m(h,p){N(h,t,p),r(t,l),r(t,s),r(t,o),r(o,u),r(t,_)},p(h,p){p[0]&1&&n!==(n=h[31])&&(l.value=n),p[0]&1&&i!==(i=h[0].defaults.user[h[30]].post_types.includes(h[31]))&&(l.checked=i),p[0]&1&&f!==(f=h[31]+"")&&ae(u,f)},d(h){h&&D(t)}}}function tl(e){let t,l,n,i,s,o,f=e[31]+"",u,_;return{c(){t=c("div"),l=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(l,"type","checkbox"),l.value=n=e[31],a(l,"name","defaults[user]["+e[30]+"][capabilities][]"),l.checked=i=sl(e[30],e[31],e[0].defaults.user),a(t,"class","items-center")},m(h,p){N(h,t,p),r(t,l),r(t,s),r(t,o),r(o,u),r(t,_)},p(h,p){p[0]&1&&n!==(n=h[31])&&(l.value=n),p[0]&1&&i!==(i=sl(h[30],h[31],h[0].defaults.user))&&(l.checked=i),p[0]&1&&f!==(f=h[31]+"")&&ae(u,f)},d(h){h&&D(t)}}}function Xl(e){let t,l,n;function i(){return e[16](e[30])}return{c(){t=c("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="cursor-pointer" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M18 15l-6 -6l-6 6h12"></path></svg>',a(t,"title","Move up")},m(s,o){N(s,t,o),l||(n=L(t,"click",i),l=!0)},p(s,o){e=s},d(s){s&&D(t),l=!1,n()}}}function ll(e){let t,l,n;function i(){return e[17](e[30])}return{c(){t=c("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="cursor-pointer" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M18 15l-6 -6l-6 6h12" transform="rotate(180 12 12)"></path></svg>',a(t,"title","Move down")},m(s,o){N(s,t,o),l||(n=L(t,"click",i),l=!0)},p(s,o){e=s},d(s){s&&D(t),l=!1,n()}}}function nl(e){let t,l,n,i,s,o,f,u,_,h,p,m,d,g,b,y,E,C,q,j,T,k,O,S,P,U,v,M,X,be,pe,Ae,_e,Ne,ue,we,xe,ie,se,Ue,ke,Z,ye,$e,qe,he,He,x,me,et,Ce,tt,ee,ce,Me,Re,Be,W,z,H,Fe,lt,I=e[28].id&&Yt(e),Ee=e[3],V=[];for(let A=0;A<Ee.length;A+=1)V[A]=Zt(Qt(e,Ee,A));function pt(...A){return e[14](e[30],...A)}let Pe=e[28].capabilities||[],G=[];for(let A=0;A<Pe.length;A+=1)G[A]=xt(Xt(e,Pe,A));let We=e[28].post_types,te=[];for(let A=0;A<We.length;A+=1)te[A]=el(Kt(e,We,A));let Ie=e[28].capabilities||[],le=[];for(let A=0;A<Ie.length;A+=1)le[A]=tl(Jt(e,Ie,A));let ze=e[30]>0&&Xl(e),ne=e[30]<e[0].permissions.length-1&&ll(e);function jn(...A){return e[18](e[30],...A)}return{c(){t=c("div"),I&&I.c(),l=w(),n=c("div"),i=c("div"),s=c("p"),s.textContent=`${e[4]("Configuration")}`,o=w(),f=c("div"),u=c("label"),_=c("span"),_.textContent=`${e[4]("Name")}`,h=w(),p=c("input"),g=w(),b=c("label"),y=c("input"),q=w(),j=c("span"),j.textContent=`${e[4]("Signed required")}`,T=w(),k=c("div"),O=c("span"),O.textContent=`${e[4]("Post type")}`,S=w(),P=c("div");for(let A=0;A<V.length;A+=1)V[A].c();U=w(),v=c("div"),M=c("span"),M.textContent=`${e[4]("Capabilities")}`,X=w(),be=c("input"),pe=w(),Ae=c("div");for(let A=0;A<G.length;A+=1)G[A].c();_e=w(),Ne=c("div"),ue=c("div"),we=c("p"),we.textContent=`${e[4]("Defaults settings")}`,xe=w(),ie=c("div"),se=c("div"),Ue=c("p"),Ue.textContent=`${e[4]("Default posts")}`,ke=w(),Z=c("div"),ye=c("input"),he=w();for(let A=0;A<te.length;A+=1)te[A].c();He=w(),x=c("div"),me=c("div"),me.textContent=`${e[4]("Default capabilities")}`,et=w(),Ce=c("div");for(let A=0;A<le.length;A+=1)le[A].c();tt=w(),ee=c("div"),ce=c("div"),ze&&ze.c(),Me=w(),ne&&ne.c(),Re=w(),Be=c("div"),W=w(),z=c("div"),z.textContent=`${e[4]("Delete")}`,H=w(),a(s,"class","font-bold text-sm mb-2"),a(_,"class","font-bold"),a(p,"type","text"),a(p,"name",m="permissions["+e[30]+"][name]"),p.value=d=e[28].name,a(p,"class","w-auto"),a(u,"class","flex flex-col"),a(y,"type","checkbox"),a(y,"name",E="permissions["+e[30]+"][logged_required]'"),y.checked=C=e[28].logged_required==="on",a(O,"class","font-bold"),a(be,"type","text"),a(Ae,"class","flex flex-wrap"),a(v,"class","flex flex-col space-y-1 flex-1"),a(f,"class","flex flex-col space-y-1 px-3"),a(i,"class","flex-1"),a(we,"class","font-bold text-sm mb-2"),a(Ue,"class","font-bold"),a(ye,"type","hidden"),a(ye,"name",$e="defaults[user]["+e[30]+"][name]"),ye.value=qe=e[28].name,a(me,"class","font-bold"),a(Ce,"class","flex flex-row space-x-2"),a(ie,"class","px-3"),a(ue,"class","space-y-3"),a(Ne,"class","flex-1 space-y-3"),a(n,"class","flex space-x-2"),a(ce,"class","flex flex-col "),a(Be,"class","flex-1"),a(z,"class","p-2 bg-red-500 rounded text-white "),a(ee,"class","flex items-center "),a(t,"class","rounded bg-white p-2")},m(A,J){N(A,t,J),I&&I.m(t,null),r(t,l),r(t,n),r(n,i),r(i,s),r(i,o),r(i,f),r(f,u),r(u,_),r(u,h),r(u,p),r(f,g),r(f,b),r(b,y),r(b,q),r(b,j),r(f,T),r(f,k),r(k,O),r(k,S),r(k,P);for(let $=0;$<V.length;$+=1)V[$].m(P,null);r(f,U),r(f,v),r(v,M),r(v,X),r(v,be),r(v,pe),r(v,Ae);for(let $=0;$<G.length;$+=1)G[$].m(Ae,null);r(n,_e),r(n,Ne),r(Ne,ue),r(ue,we),r(ue,xe),r(ue,ie),r(ie,se),r(se,Ue),r(se,ke),r(se,Z),r(Z,ye),r(Z,he);for(let $=0;$<te.length;$+=1)te[$].m(Z,null);r(ie,He),r(ie,x),r(x,me),r(x,et),r(x,Ce);for(let $=0;$<le.length;$+=1)le[$].m(Ce,null);r(t,tt),r(t,ee),r(ee,ce),ze&&ze.m(ce,null),r(ce,Me),ne&&ne.m(ce,null),r(ee,Re),r(ee,Be),r(ee,W),r(ee,z),r(t,H),Fe||(lt=[L(be,"keypress",pt),L(z,"click",jn)],Fe=!0)},p(A,J){if(e=A,e[28].id?I?I.p(e,J):(I=Yt(e),I.c(),I.m(t,l)):I&&(I.d(1),I=null),J[0]&1&&d!==(d=e[28].name)&&p.value!==d&&(p.value=d),J[0]&1&&C!==(C=e[28].logged_required==="on")&&(y.checked=C),J[0]&9){Ee=e[3];let $;for($=0;$<Ee.length;$+=1){const de=Qt(e,Ee,$);V[$]?V[$].p(de,J):(V[$]=Zt(de),V[$].c(),V[$].m(P,null))}for(;$<V.length;$+=1)V[$].d(1);V.length=Ee.length}if(J[0]&1){Pe=e[28].capabilities||[];let $;for($=0;$<Pe.length;$+=1){const de=Xt(e,Pe,$);G[$]?G[$].p(de,J):(G[$]=xt(de),G[$].c(),G[$].m(Ae,null))}for(;$<G.length;$+=1)G[$].d(1);G.length=Pe.length}if(J[0]&1&&qe!==(qe=e[28].name)&&(ye.value=qe),J[0]&1){We=e[28].post_types;let $;for($=0;$<We.length;$+=1){const de=Kt(e,We,$);te[$]?te[$].p(de,J):(te[$]=el(de),te[$].c(),te[$].m(Z,null))}for(;$<te.length;$+=1)te[$].d(1);te.length=We.length}if(J[0]&1){Ie=e[28].capabilities||[];let $;for($=0;$<Ie.length;$+=1){const de=Jt(e,Ie,$);le[$]?le[$].p(de,J):(le[$]=tl(de),le[$].c(),le[$].m(Ce,null))}for(;$<le.length;$+=1)le[$].d(1);le.length=Ie.length}e[30]>0&&ze.p(e,J),e[30]<e[0].permissions.length-1?ne?ne.p(e,J):(ne=ll(e),ne.c(),ne.m(ce,null)):ne&&(ne.d(1),ne=null)},d(A){A&&D(t),I&&I.d(),oe(V,A),oe(G,A),oe(te,A),oe(le,A),ze&&ze.d(),ne&&ne.d(),Fe=!1,je(lt)}}}function il(e){let t,l,n,i,s,o=e[25]+"",f,u,_,h,p,m;function d(){return e[20](e[27])}return{c(){t=c("input"),n=w(),i=c("div"),s=c("span"),f=F(o),u=w(),_=c("span"),_.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="cursor-pointer"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',h=w(),a(t,"type","hidden"),a(t,"name","countries[]"),t.value=l=e[25],a(_,"class","ml-2 font-bold"),a(i,"class","flex shadow items-center bg-blue-500 text-white fill-white rounded mr-1 px-1 mt-1")},m(g,b){N(g,t,b),N(g,n,b),N(g,i,b),r(i,s),r(s,f),r(i,u),r(i,_),r(i,h),p||(m=L(_,"click",d),p=!0)},p(g,b){e=g,b[0]&1&&l!==(l=e[25])&&(t.value=l),b[0]&1&&o!==(o=e[25]+"")&&ae(f,o)},d(g){g&&D(t),g&&D(n),g&&D(i),p=!1,m()}}}function Ql(e){let t,l,n,i,s,o,f,u,_,h,p,m,d,g,b,y,E,C,q,j,T=e[0].permissions,k=[];for(let P=0;P<T.length;P+=1)k[P]=nl(Gt(e,T,P));let O=e[0].countries,S=[];for(let P=0;P<O.length;P+=1)S[P]=il(Vt(e,O,P));return{c(){t=c("div"),l=c("div"),n=c("button"),n.textContent=`${e[4]("Save settings")}`,i=w(),s=c("button"),s.textContent=`${e[4]("Add new")}`,o=w(),f=c("form"),u=c("details"),_=c("summary"),_.textContent=`${e[4]("Permissions")}`,h=w();for(let P=0;P<k.length;P+=1)k[P].c();p=w(),m=c("details"),d=c("summary"),d.textContent=`${e[4]("Countries")}`,g=w(),b=c("div"),y=c("input"),E=w(),C=c("div");for(let P=0;P<S.length;P+=1)S[P].c();a(n,"class","bg-blue-500 text-white rounded p-1"),a(s,"class","border-1 border-blue-500 rounded p-1 bg-white"),a(l,"class","flex flex-row space-x-2 mt-2"),u.open=!0,a(y,"type","text"),a(y,"placeholder",e[4]("Add country")),a(C,"class","flex flex-wrap"),a(b,"class","rounded bg-white p-2 "),m.open=!0,a(f,"action",e[2]),a(f,"method","post"),a(f,"class","space-y-2"),a(t,"class","space-y-2 text-gray-600")},m(P,U){N(P,t,U),r(t,l),r(l,n),r(l,i),r(l,s),r(t,o),r(t,f),r(f,u),r(u,_),r(u,h);for(let v=0;v<k.length;v+=1)k[v].m(u,null);r(f,p),r(f,m),r(m,d),r(m,g),r(m,b),r(b,y),r(b,E),r(b,C);for(let v=0;v<S.length;v+=1)S[v].m(C,null);e[21](f),q||(j=[L(n,"click",e[10]),L(s,"click",e[11]),L(y,"change",e[19])],q=!0)},p(P,U){if(U[0]&505){T=P[0].permissions;let v;for(v=0;v<T.length;v+=1){const M=Gt(P,T,v);k[v]?k[v].p(M,U):(k[v]=nl(M),k[v].c(),k[v].m(u,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=T.length}if(U[0]&1){O=P[0].countries;let v;for(v=0;v<O.length;v+=1){const M=Vt(P,O,v);S[v]?S[v].p(M,U):(S[v]=il(M),S[v].c(),S[v].m(C,null))}for(;v<S.length;v+=1)S[v].d(1);S.length=O.length}},i:R,o:R,d(P){P&&D(t),oe(k,P),oe(S,P),e[21](null),q=!1,je(j)}}}function sl(e,t,l){const n=l[e];return n&&n.capabilities.includes(t)}function Yl(e,t,l){let{config:n={postUrl:"",defaultPermission:{name:"New item",logged_required:!0,post_types:[],capabilities:[]},post_types:["post","page","attachment"],permissions:[{name:"ShowProDir",logged_required:!1,post_types:["attachment"],capabilities:["CAN_READ","CAN_WRITE"]}],defaults:{post:{permissions:[],capabilities:[]},user:{permissions:[],capabilities:[]}},i18n:{}}}=t;n.defaults||(n.defaults={}),n.defaults.user||(n.defaults.user=[...n.permissions]),n.defaults.post||(n.defaults.post=[...n.permissions]),n.countries||(n.countries=[]),_(n.defaults.post),_(n.defaults.user);const i=n.postUrl,s=n.defaultPermission,o=n.post_types;n.permissions;const f=ct(n.i18n);let u;function _(v){for(let M=0;M<n.permissions.length;M++)v[M]=v[M]||n.permissions[M],v[M].post_types=v[M].post_types||[],v[M].capabilities=v[M].capabilities||[]}function h(v,M){if(v.key==="Enter"){if(v.preventDefault(),v.target.value==="")return;l(0,n.permissions[M].capabilities=n.permissions[M].capabilities||[],n),l(0,n.permissions[M].capabilities=[...n.permissions[M].capabilities,v.target.value],n),v.target.value=""}}function p(v,M){M.preventDefault(),n.permissions.splice(v,1),l(0,n)}function m(v){const M=n.permissions[v-1];l(0,n.permissions[v-1]=n.permissions[v],n),l(0,n.permissions[v]=M,n)}function d(v){const M=n.permissions[v+1];l(0,n.permissions[v+1]=n.permissions[v],n),l(0,n.permissions[v]=M,n)}function g(){l(0,n.permissions=[s,...n.permissions],n),_(n.defaults.user)}const b=[[]],y=()=>u.submit(),E=()=>g();function C(v,M){v[M].post_types=Ge(b[0][M],this.__value,this.checked),l(0,n)}const q=(v,M)=>h(M,v),j=(v,M,X,be)=>{v.capabilities.splice(M,1),l(0,X[be].capabilities=v.capabilities,n)},T=v=>m(v),k=v=>d(v),O=(v,M)=>p(v,M),S=v=>{v.target.value.length>0&&(n.countries.push(v.target.value),l(0,n))},P=v=>{n.countries.splice(v,1),l(0,n)};function U(v){gt[v?"unshift":"push"](()=>{u=v,l(1,u)})}return e.$$set=v=>{"config"in v&&l(0,n=v.config)},[n,u,i,o,f,h,p,m,d,g,y,E,C,b,q,j,T,k,O,S,P,U]}class Zl extends Ze{constructor(t){super();Ye(this,t,Yl,Ql,Ve,{config:0},null,[-1,-1])}}function ol(e,t,l){const n=e.slice();return n[10]=t[l],n[12]=l,n}function rl(e,t,l){const n=e.slice();return n[13]=t[l],n[14]=t,n[12]=l,n}function al(e,t,l){const n=e.slice();return n[15]=t[l],n[17]=l,n}function ul(e,t,l){const n=e.slice();return n[13]=t[l],n[12]=l,n}function fl(e){let t,l,n,i,s,o,f=e[0].permissions,u=[];for(let p=0;p<f.length;p+=1)u[p]=cl(ul(e,f,p));let _=e[0].permissions,h=[];for(let p=0;p<_.length;p+=1)h[p]=pl(rl(e,_,p));return{c(){t=c("div"),l=c("p"),l.textContent=`${e[3]("Permissions")}`,n=w(),i=c("div"),s=c("div");for(let p=0;p<u.length;p+=1)u[p].c();o=w();for(let p=0;p<h.length;p+=1)h[p].c();a(s,"class","flex flex-row space-x-2"),a(i,"class","p-2 bg-white space-y-2"),a(t,"class","flex-1")},m(p,m){N(p,t,m),r(t,l),r(t,n),r(t,i),r(i,s);for(let d=0;d<u.length;d+=1)u[d].m(s,null);r(i,o);for(let d=0;d<h.length;d+=1)h[d].m(i,null)},p(p,m){if(m&5){f=p[0].permissions;let d;for(d=0;d<f.length;d+=1){const g=ul(p,f,d);u[d]?u[d].p(g,m):(u[d]=cl(g),u[d].c(),u[d].m(s,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=f.length}if(m&15){_=p[0].permissions;let d;for(d=0;d<_.length;d+=1){const g=rl(p,_,d);h[d]?h[d].p(g,m):(h[d]=pl(g),h[d].c(),h[d].m(i,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=_.length}},d(p){p&&D(t),oe(u,p),oe(h,p)}}}function cl(e){let t,l=e[13].name+"",n,i,s,o,f;function u(){return e[5](e[12])}return{c(){t=c("div"),n=F(l),i=w(),a(t,"class",s="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(e[2].name===e[13].name&&"bg-blue-500 text-white"))},m(_,h){N(_,t,h),r(t,n),r(t,i),o||(f=L(t,"click",u),o=!0)},p(_,h){e=_,h&1&&l!==(l=e[13].name+"")&&ae(n,l),h&5&&s!==(s="shadow font-bold hover:bg-blue-500 hover:text-white cursor-pointer rounded flex-1 p-2 "+(e[2].name===e[13].name&&"bg-blue-500 text-white"))&&a(t,"class",s)},d(_){_&&D(t),o=!1,f()}}}function xl(e){let t,l,n,i;return{c(){t=re("svg"),l=re("path"),n=re("line"),i=re("line"),a(l,"stroke","none"),a(l,"d","M0 0h24v24H0z"),a(l,"fill","none"),a(n,"x1","18"),a(n,"y1","6"),a(n,"x2","6"),a(n,"y2","18"),a(i,"x1","6"),a(i,"y1","6"),a(i,"x2","18"),a(i,"y2","18"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"width","24"),a(t,"height","24"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","2"),a(t,"stroke","currentColor"),a(t,"fill","none"),a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round")},m(s,o){N(s,t,o),r(t,l),r(t,n),r(t,i)},d(s){s&&D(t)}}}function en(e){let t,l,n,i;return{c(){t=re("svg"),l=re("path"),n=re("path"),i=re("path"),a(l,"stroke","none"),a(l,"d","M0 0h24v24H0z"),a(l,"fill","none"),a(n,"d","M7 12l5 5l10 -10"),a(i,"d","M2 12l5 5m5 -5l5 -5"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"width","24"),a(t,"height","24"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","2"),a(t,"stroke","currentColor"),a(t,"fill","none"),a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round")},m(s,o){N(s,t,o),r(t,l),r(t,n),r(t,i)},d(s){s&&D(t)}}}function dl(e){let t,l,n,i,s,o,f=e[15]+"",u,_,h,p;e[7][1][e[12]]=[];function m(){e[6].call(l,e[13],e[12])}return{c(){t=c("label"),l=c("input"),s=w(),o=c("span"),u=F(f),_=w(),a(l,"type","checkbox"),l.__value=n=e[15],l.value=l.__value,a(l,"name",i=""+(e[0].names.permission+"["+e[13].id+"][capabilities][]")),e[7][1][e[12]].push(l)},m(d,g){N(d,t,g),r(t,l),l.checked=~e[1][e[13].id].capabilities.indexOf(l.__value),r(t,s),r(t,o),r(o,u),r(t,_),h||(p=L(l,"change",m),h=!0)},p(d,g){e=d,g&1&&n!==(n=e[15])&&(l.__value=n,l.value=l.__value),g&1&&i!==(i=""+(e[0].names.permission+"["+e[13].id+"][capabilities][]"))&&a(l,"name",i),g&3&&(l.checked=~e[1][e[13].id].capabilities.indexOf(l.__value)),g&1&&f!==(f=e[15]+"")&&ae(u,f)},d(d){d&&D(t),e[7][1][e[12]].splice(e[7][1][e[12]].indexOf(l),1),h=!1,p()}}}function pl(e){let t,l,n,i,s,o,f,u,_;function h(b,y){return b[13].logged_required?en:xl}let p=h(e),m=p(e),d=e[13].capabilities||[],g=[];for(let b=0;b<d.length;b+=1)g[b]=dl(al(e,d,b));return{c(){t=c("div"),l=c("div"),n=c("span"),n.textContent=`${e[3]("Signed required")}`,i=w(),m.c(),s=w(),o=c("div"),f=c("span"),f.textContent=`${e[3]("Capabilities")}`,u=w();for(let b=0;b<g.length;b+=1)g[b].c();_=w(),a(l,"class","flex items-center"),a(o,"class","flex items-center space-x-2"),a(t,"class","p-1"),ot(t,"hidden",e[13].name!==e[2].name)},m(b,y){N(b,t,y),r(t,l),r(l,n),r(l,i),m.m(l,null),r(t,s),r(t,o),r(o,f),r(o,u);for(let E=0;E<g.length;E+=1)g[E].m(o,null);r(t,_)},p(b,y){if(p!==(p=h(b))&&(m.d(1),m=p(b),m&&(m.c(),m.m(l,null))),y&3){d=b[13].capabilities||[];let E;for(E=0;E<d.length;E+=1){const C=al(b,d,E);g[E]?g[E].p(C,y):(g[E]=dl(C),g[E].c(),g[E].m(o,null))}for(;E<g.length;E+=1)g[E].d(1);g.length=d.length}y&5&&ot(t,"hidden",b[13].name!==b[2].name)},d(b){b&&D(t),m.d(),oe(g,b)}}}function _l(e){let t,l,n,i,s,o=e[10]+"",f,u,_,h;return{c(){t=c("label"),l=c("input"),s=w(),f=F(o),u=w(),a(l,"type","checkbox"),l.__value=n=e[10],l.value=l.__value,a(l,"name",i=""+(e[0].names.countries+"[]")),e[7][0].push(l)},m(p,m){N(p,t,m),r(t,l),l.checked=~e[0].countries.indexOf(l.__value),r(t,s),r(t,f),r(t,u),_||(h=L(l,"change",e[8]),_=!0)},p(p,m){m&1&&n!==(n=p[10])&&(l.__value=n,l.value=l.__value),m&1&&i!==(i=""+(p[0].names.countries+"[]"))&&a(l,"name",i),m&1&&(l.checked=~p[0].countries.indexOf(l.__value)),m&1&&o!==(o=p[10]+"")&&ae(f,o)},d(p){p&&D(t),e[7][0].splice(e[7][0].indexOf(l),1),_=!1,h()}}}function tn(e){let t,l,n,i,s,o,f,u,_,h,p,m,d,g,b,y,E,C,q,j,T,k,O=e[2]&&fl(e),S=e[0].base_countries,P=[];for(let U=0;U<S.length;U+=1)P[U]=_l(ol(e,S,U));return{c(){t=c("div"),l=c("div"),n=c("div"),i=c("label"),s=c("p"),s.textContent=`${e[3]("Abstract")}`,o=w(),f=c("textarea"),h=w(),p=c("div"),m=c("label"),d=c("div"),d.textContent=`${e[3]("Decorative image")}`,g=w(),b=c("input"),E=w(),O&&O.c(),C=w(),q=c("div"),j=c("p"),j.textContent=`${e[3]("Countries")}`,T=w(),k=c("div");for(let U=0;U<P.length;U+=1)P[U].c();a(f,"name",u=e[0].names.abstract),a(f,"class","w-full"),f.value=_=e[0].abstract,a(i,"class","space-y-1"),a(n,"class","flex flex-col"),a(b,"type","file"),a(b,"accept","image/png, image/jpeg"),a(b,"name",y=e[0].names.image),a(p,"class","flex flex-col"),a(l,"class","space-y-3 flex-1"),a(t,"class","flex flex-row space-x-2"),a(k,"class","flex flex-row flex-wrap space-x-2")},m(U,v){N(U,t,v),r(t,l),r(l,n),r(n,i),r(i,s),r(i,o),r(i,f),r(l,h),r(l,p),r(p,m),r(m,d),r(m,g),r(m,b),r(t,E),O&&O.m(t,null),N(U,C,v),N(U,q,v),r(q,j),r(q,T),r(q,k);for(let M=0;M<P.length;M+=1)P[M].m(k,null)},p(U,[v]){if(v&1&&u!==(u=U[0].names.abstract)&&a(f,"name",u),v&1&&_!==(_=U[0].abstract)&&(f.value=_),v&1&&y!==(y=U[0].names.image)&&a(b,"name",y),U[2]?O?O.p(U,v):(O=fl(U),O.c(),O.m(t,null)):O&&(O.d(1),O=null),v&1){S=U[0].base_countries;let M;for(M=0;M<S.length;M+=1){const X=ol(U,S,M);P[M]?P[M].p(X,v):(P[M]=_l(X),P[M].c(),P[M].m(k,null))}for(;M<P.length;M+=1)P[M].d(1);P.length=S.length}},i:R,o:R,d(U){U&&D(t),O&&O.d(),U&&D(C),U&&D(q),oe(P,U)}}}function ln(e,t,l){const n={names:{abstract:"mc_metabox_abstract",image:"mc_metabox_image",permission:"mc_metabox_permission",countries:"mc_metabox_countries"},abstract:"",permissions:[],selections:{},i18n:{}};let{config:i={}}=t;i.permissions||(i.permissions=[]),i.base_countries||(i.base_countries=[]),i.countries||(i.countries=[]);const s=nt(nt({},n),i||{});zt(s.permissions,s.selections||[],d=>d.id,d=>({id:d.id,name:d.name,post_types:[],capabilities:[]}));const o=qt(s.selections,d=>d.id),f=ct(s.i18n);let u=s.permissions[0];const _=[[],[]],h=d=>l(2,u=s.permissions[d]);function p(d,g){o[d.id].capabilities=Ge(_[1][g],this.__value,this.checked),l(1,o)}function m(){s.countries=Ge(_[0],this.__value,this.checked),l(0,s)}return e.$$set=d=>{"config"in d&&l(4,i=d.config)},[s,o,u,f,i,h,p,_,m]}class nn extends Ze{constructor(t){super();Ye(this,t,ln,tn,Ve,{config:4})}}function sn(e){const t=e-1;return t*t*t+1}function on(e,{delay:t=0,duration:l=400,easing:n=sn,x:i=0,y:s=0,opacity:o=0}={}){const f=getComputedStyle(e),u=+f.opacity,_=f.transform==="none"?"":f.transform,h=u*(1-o);return{delay:t,duration:l,easing:n,css:(p,m)=>`
			transform: ${_} translate(${(1-p)*i}px, ${(1-p)*s}px);
			opacity: ${u-h*m}`}}function hl(e){let t,l;return{c(){t=c("div"),l=F(e[0]),a(t,"class","font-bold z-index-10")},m(n,i){N(n,t,i),r(t,l)},p(n,i){i&1&&ae(l,n[0])},d(n){n&&D(t)}}}function rn(e){let t,l,n,i,s=e[0]&&hl(e);const o=e[2].default,f=$l(o,e,e[1],null);return{c(){t=c("div"),s&&s.c(),l=w(),n=c("div"),f&&f.c(),a(n,"class","flex flex-col space-y-2 flex-1 justify-center"),a(t,"class","flex flex-col space-y-2 flex-1 justify-center")},m(u,_){N(u,t,_),s&&s.m(t,null),r(t,l),r(t,n),f&&f.m(n,null),i=!0},p(u,[_]){u[0]?s?s.p(u,_):(s=hl(u),s.c(),s.m(t,l)):s&&(s.d(1),s=null),f&&f.p&&(!i||_&2)&&Ml(f,o,u,u[1],i?Cl(o,u[1],_,null):El(u[1]),null)},i(u){i||(Y(f,u),i=!0)},o(u){fe(f,u),i=!1},d(u){u&&D(t),s&&s.d(),f&&f.d(u)}}}function an(e,t,l){let{$$slots:n={},$$scope:i}=t,{label:s=""}=t;return e.$$set=o=>{"label"in o&&l(0,s=o.label),"$$scope"in o&&l(1,i=o.$$scope)},[s,i,n]}class Se extends Ze{constructor(t){super();Ye(this,t,an,rn,Ve,{label:0})}}function un(e){let t;return{c(){t=c("a"),t.textContent=`${e[4]("Login")}/${e[4]("register")}`,a(t,"href","/login")},m(l,n){N(l,t,n)},p:R,d(l){l&&D(t)}}}function fn(e){let t,l,n,i,s;return{c(){t=c("div"),l=c("img"),st(l.src,n=e[2].avatarUrl)||a(l,"src",n),a(l,"alt","Avatar"),a(l,"class","w-32px h-32px rounded-full shadow-lg object-cover"),a(t,"class","flex flex-row space-x-2 cursor-pointer items-center")},m(o,f){N(o,t,f),r(t,l),i||(s=L(t,"click",e[6]),i=!0)},p(o,f){f&4&&!st(l.src,n=o[2].avatarUrl)&&a(l,"src",n)},d(o){o&&D(t),i=!1,s()}}}function ml(e){let t,l,n,i,s,o,f,u,_,h,p=e[0].display_name+"",m,d,g,b,y,E,C,q,j,T,k,O,S,P,U,v,M,X,be,pe,Ae,_e,Ne,ue,we,xe,ie,se,Ue,ke,Z,ye,$e,qe,he,He,x,me,et,Ce,tt,ee,ce,Me,Re,Be;S=new Se({props:{label:e[4]("Name"),$$slots:{default:[cn]},$$scope:{ctx:e}}}),U=new Se({props:{label:e[4]("Email"),$$slots:{default:[dn]},$$scope:{ctx:e}}}),X=new Se({props:{label:e[4]("Website"),$$slots:{default:[pn]},$$scope:{ctx:e}}}),pe=new Se({props:{label:e[4]("Select image"),$$slots:{default:[_n]},$$scope:{ctx:e}}}),_e=new Se({props:{label:e[4]("About me"),$$slots:{default:[hn]},$$scope:{ctx:e}}}),se=new Se({props:{label:e[4]("Current password"),$$slots:{default:[mn]},$$scope:{ctx:e}}}),Z=new Se({props:{label:e[4]("New password"),$$slots:{default:[gn]},$$scope:{ctx:e}}}),$e=new Se({props:{label:e[4]("Confirm password"),$$slots:{default:[vn]},$$scope:{ctx:e}}});let W=e[3]&&gl(e);return{c(){t=c("div"),l=c("div"),n=w(),i=c("div"),s=c("div"),o=c("div"),f=c("img"),_=w(),h=c("div"),m=F(p),d=w(),g=c("div"),b=w(),y=re("svg"),E=re("path"),C=re("line"),q=re("line"),j=w(),T=c("div"),k=c("div"),O=c("div"),Oe(S.$$.fragment),P=w(),Oe(U.$$.fragment),v=w(),M=c("div"),Oe(X.$$.fragment),be=w(),Oe(pe.$$.fragment),Ae=w(),Oe(_e.$$.fragment),Ne=w(),ue=c("details"),we=c("summary"),we.textContent=`${e[4]("Security")}`,xe=w(),ie=c("div"),Oe(se.$$.fragment),Ue=w(),ke=c("div"),Oe(Z.$$.fragment),ye=w(),Oe($e.$$.fragment),qe=w(),he=c("div"),W&&W.c(),He=w(),x=c("div"),me=c("div"),me.textContent=`${e[4]("Cancel")}`,et=w(),Ce=c("div"),tt=w(),ee=c("div"),ee.textContent=`${e[4]("Save")}`,a(l,"class","absolute top-0 left-0 bg-black opacity-90 w-full h-full"),st(f.src,u=e[2].avatarUrl)||a(f,"src",u),a(f,"alt","img"),a(f,"class","w-32px h-32px rounded-full items-center shadow-lg object-cover"),a(o,"class","flex flex-row space-x-2 items-center"),a(g,"class","flex-1"),a(E,"stroke","none"),a(E,"d","M0 0h24v24H0z"),a(E,"fill","none"),a(C,"x1","18"),a(C,"y1","6"),a(C,"x2","6"),a(C,"y2","18"),a(q,"x1","6"),a(q,"y1","6"),a(q,"x2","18"),a(q,"y2","18"),a(y,"xmlns","http://www.w3.org/2000/svg"),a(y,"width","24"),a(y,"height","24"),a(y,"viewBox","0 0 24 24"),a(y,"stroke-width","2"),a(y,"stroke","currentColor"),a(y,"fill","none"),a(y,"stroke-linecap","round"),a(y,"stroke-linejoin","round"),a(s,"class","flex flex-row py-5 px-2 bg-cool-gray-100 relative"),a(O,"class","flex flex-col md:flex-row md:space-x-5"),a(M,"class","flex flex-col md:flex-row md:space-x-5"),a(we,"class","font-bold"),a(ke,"class","flex flex-row space-x-5"),a(ie,"class","space-y-3 mt-5"),a(k,"class","space-y-5 flex flex-col bg-white p-3"),a(T,"class","flex-1 p-2 container mx-auto flex overflow-auto"),a(me,"class","cursor-pointer"),a(Ce,"class","flex-1"),a(ee,"class","transition-all bg-blue-500 text-white p-2 rounded shadow-lg inline-block w-35 text-center cursor-pointer"),a(x,"class","flex flex-row space-x-2 font-bold items-center"),a(he,"class","py-3 px-2 bg-cool-gray-100"),a(i,"class","rounded-lg w-auto max-h-4/5 bg-white overflow-hidden shadow-md flex flex-col z-index-10"),a(t,"class","flex justify-center items-center fixed top-0 left-0 w-full h-full z-index-20")},m(z,H){N(z,t,H),r(t,l),r(t,n),r(t,i),r(i,s),r(s,o),r(o,f),r(o,_),r(o,h),r(h,m),r(s,d),r(s,g),r(s,b),r(s,y),r(y,E),r(y,C),r(y,q),r(i,j),r(i,T),r(T,k),r(k,O),ge(S,O,null),r(O,P),ge(U,O,null),r(k,v),r(k,M),ge(X,M,null),r(M,be),ge(pe,M,null),r(k,Ae),ge(_e,k,null),r(k,Ne),r(k,ue),r(ue,we),r(ue,xe),r(ue,ie),ge(se,ie,null),r(ie,Ue),r(ie,ke),ge(Z,ke,null),r(ke,ye),ge($e,ke,null),r(i,qe),r(i,he),W&&W.m(he,null),r(he,He),r(he,x),r(x,me),r(x,et),r(x,Ce),r(x,tt),r(x,ee),Me=!0,Re||(Be=[L(y,"click",e[7]),L(me,"click",e[16]),L(ee,"click",e[17])],Re=!0)},p(z,H){(!Me||H&4&&!st(f.src,u=z[2].avatarUrl))&&a(f,"src",u),(!Me||H&1)&&p!==(p=z[0].display_name+"")&&ae(m,p);const Fe={};H&4194308&&(Fe.$$scope={dirty:H,ctx:z}),S.$set(Fe);const lt={};H&4194308&&(lt.$$scope={dirty:H,ctx:z}),U.$set(lt);const I={};H&4194308&&(I.$$scope={dirty:H,ctx:z}),X.$set(I);const Ee={};H&4194308&&(Ee.$$scope={dirty:H,ctx:z}),pe.$set(Ee);const V={};H&4194308&&(V.$$scope={dirty:H,ctx:z}),_e.$set(V);const pt={};H&4194308&&(pt.$$scope={dirty:H,ctx:z}),se.$set(pt);const Pe={};H&4194308&&(Pe.$$scope={dirty:H,ctx:z}),Z.$set(Pe);const G={};H&4194308&&(G.$$scope={dirty:H,ctx:z}),$e.$set(G),z[3]?W?W.p(z,H):(W=gl(z),W.c(),W.m(he,He)):W&&(W.d(1),W=null)},i(z){Me||(Y(S.$$.fragment,z),Y(U.$$.fragment,z),Y(X.$$.fragment,z),Y(pe.$$.fragment,z),Y(_e.$$.fragment,z),Y(se.$$.fragment,z),Y(Z.$$.fragment,z),Y($e.$$.fragment,z),ce||Xe(()=>{ce=Wl(t,on,{y:-10}),ce.start()}),Me=!0)},o(z){fe(S.$$.fragment,z),fe(U.$$.fragment,z),fe(X.$$.fragment,z),fe(pe.$$.fragment,z),fe(_e.$$.fragment,z),fe(se.$$.fragment,z),fe(Z.$$.fragment,z),fe($e.$$.fragment,z),Me=!1},d(z){z&&D(t),ve(S),ve(U),ve(X),ve(pe),ve(_e),ve(se),ve(Z),ve($e),W&&W.d(),Re=!1,je(Be)}}}function cn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","text"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),Q(t,e[2].name),l||(n=L(t,"input",e[8]),l=!0)},p(i,s){s&4&&t.value!==i[2].name&&Q(t,i[2].name)},d(i){i&&D(t),l=!1,n()}}}function dn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","email"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),Q(t,e[2].email),l||(n=L(t,"input",e[9]),l=!0)},p(i,s){s&4&&t.value!==i[2].email&&Q(t,i[2].email)},d(i){i&&D(t),l=!1,n()}}}function pn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","text"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),Q(t,e[2].website),l||(n=L(t,"input",e[10]),l=!0)},p(i,s){s&4&&t.value!==i[2].website&&Q(t,i[2].website)},d(i){i&&D(t),l=!1,n()}}}function _n(e){let t,l,n,i=(e[2].file&&e[2].file.name||e[4]("Select image"))+"",s,o,f;return{c(){t=c("label"),l=c("input"),n=w(),s=F(i),a(l,"type","file"),a(l,"class","hidden"),a(l,"accept","image/png,image/jpeg"),a(t,"class","p-2 rounded ring-2 ring-gray-100 cursor-pointer hover:ring-blue-500 hover:shadow-lg")},m(u,_){N(u,t,_),r(t,l),r(t,n),r(t,s),o||(f=L(l,"change",e[11]),o=!0)},p(u,_){_&4&&i!==(i=(u[2].file&&u[2].file.name||u[4]("Select image"))+"")&&ae(s,i)},d(u){u&&D(t),o=!1,f()}}}function hn(e){let t,l,n;return{c(){t=c("textarea"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),Q(t,e[2].description),l||(n=L(t,"input",e[12]),l=!0)},p(i,s){s&4&&Q(t,i[2].description)},d(i){i&&D(t),l=!1,n()}}}function mn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","password"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),Q(t,e[2].current_pwd),l||(n=L(t,"input",e[13]),l=!0)},p(i,s){s&4&&t.value!==i[2].current_pwd&&Q(t,i[2].current_pwd)},d(i){i&&D(t),l=!1,n()}}}function gn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","password"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),Q(t,e[2].new_password),l||(n=L(t,"input",e[14]),l=!0)},p(i,s){s&4&&t.value!==i[2].new_password&&Q(t,i[2].new_password)},d(i){i&&D(t),l=!1,n()}}}function vn(e){let t,l,n;return{c(){t=c("input"),a(t,"type","password"),a(t,"class","appearance-none p-2 rounded ring-2 ring-gray-100 focus:ring-blue-500 focus:shadow-lg")},m(i,s){N(i,t,s),Q(t,e[2].confirm_password),l||(n=L(t,"input",e[15]),l=!0)},p(i,s){s&4&&t.value!==i[2].confirm_password&&Q(t,i[2].confirm_password)},d(i){i&&D(t),l=!1,n()}}}function gl(e){let t;function l(s,o){return s[3].validationType==="success"?wn:bn}let n=l(e),i=n(e);return{c(){i.c(),t=jt()},m(s,o){i.m(s,o),N(s,t,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(t.parentNode,t)))},d(s){i.d(s),s&&D(t)}}}function bn(e){let t,l=e[3].validationMessage+"",n;return{c(){t=c("div"),n=F(l),a(t,"class","border-2 border-red-300 rounded-full p-2 my-2 bg-white")},m(i,s){N(i,t,s),r(t,n)},p(i,s){s&8&&l!==(l=i[3].validationMessage+"")&&ae(n,l)},d(i){i&&D(t)}}}function wn(e){let t,l=e[3].validationMessage+"",n;return{c(){t=c("div"),n=F(l),a(t,"class","border-2 border-green-300 rounded-full p-2 my-2 bg-white")},m(i,s){N(i,t,s),r(t,n)},p(i,s){s&8&&l!==(l=i[3].validationMessage+"")&&ae(n,l)},d(i){i&&D(t)}}}function kn(e){let t,l,n;function i(u,_){return u[0].isLogged?fn:un}let s=i(e),o=s(e),f=e[1]&&ml(e);return{c(){o.c(),t=w(),f&&f.c(),l=jt()},m(u,_){o.m(u,_),N(u,t,_),f&&f.m(u,_),N(u,l,_),n=!0},p(u,[_]){s===(s=i(u))&&o?o.p(u,_):(o.d(1),o=s(u),o&&(o.c(),o.m(t.parentNode,t))),u[1]?f?(f.p(u,_),_&2&&Y(f,1)):(f=ml(u),f.c(),Y(f,1),f.m(l.parentNode,l)):f&&(Rl(),fe(f,1,1,()=>{f=null}),Bl())},i(u){n||(Y(f),n=!0)},o(u){fe(f),n=!1},d(u){o.d(u),u&&D(t),f&&f.d(u),u&&D(l)}}}function yn(e,t,l){let{config:n={isLogged:!0,url:"https://google.com.uy",user_avatar_url:"",display_name:"Joaquin",user_email:"joaquinvelazquezcamacho@gmail.com",user_url:"https://google.com.uy",description:"",login_url:"",i18n:{}}}=t;const i=ct(n.i18n||{});let s=!1,o={name:n.display_name,email:n.user_email,website:n.user_url,avatarUrl:n.user_avatar_url,description:n.description,file:void 0,current_pwd:void 0,new_password:void 0,confirm_password:void 0},f=!0,u=null;function _(){if(f){if(f=!1,Le(o.name))return;if(Le(o.email)){f=!0;return}const k=new FormData;if(wt(o.current_pwd)||wt(o.new_password)||wt(o.confirm_password)){if(Le(o.current_pwd)||Le(o.new_password)||Le(o.confirm_password)||o.new_password!==o.confirm_password)return;k.append("current_pwd",o.current_pwd),k.append("new_password",o.new_password),k.append("confirm_password",o.confirm_password)}o.file&&k.append("file",o.file),o.name&&k.append("display_name",o.name),o.email&&k.append("user_email",o.email),o.website&&k.append("user_url",o.website),o.description&&k.append("description",o.description),fetch("/wp-json/mcplugin/v1/user",{method:"POST",headers:{accept:"application/json",enctype:"multipart/form-data","X-WP-Nonce":MCApp.nonce},body:k}).then(O=>O.json()).then(O=>{l(3,u={});const S=O.userData;l(2,o.name=S.display_name||o.name,o),l(2,o.email=S.user_email||o.email,o),l(2,o.website=S.user_url||o.website,o),l(2,o.description=S.description||o.description,o),S.user_avatar_url&&l(2,o.avatarUrl=S.user_avatar_url,o),f=!0,l(3,u.validationType="success",u),l(3,u.validationMessage="Changes saved",u)}).catch(O=>{console.log(O),f=!0,l(3,u.validationType="error",u),l(3,u.validationMessage="Can\xB4t save changes",u)}).finally(()=>{setTimeout(()=>l(3,u=null),3e3)})}}const h=()=>l(1,s=!0),p=()=>l(1,s=!1);function m(){o.name=this.value,l(2,o)}function d(){o.email=this.value,l(2,o)}function g(){o.website=this.value,l(2,o)}const b=k=>{l(2,o.file=k.target.files[0],o),console.log(o)};function y(){o.description=this.value,l(2,o)}function E(){o.current_pwd=this.value,l(2,o)}function C(){o.new_password=this.value,l(2,o)}function q(){o.confirm_password=this.value,l(2,o)}const j=()=>l(1,s=!1),T=()=>_();return e.$$set=k=>{"config"in k&&l(0,n=k.config)},[n,s,o,u,i,_,h,p,m,d,g,b,y,E,C,q,j,T]}class $n extends Ze{constructor(t){super();Ye(this,t,yn,kn,Ve,{config:0})}}function dt(e,t){Array.from(document.getElementsByClassName(e)).forEach(l=>t(l))}function Cn(e,t){dt(e,l=>new Kl({target:l,props:{config:t}}))}function Mn(e,t){dt(e,l=>new Zl({target:l,props:{config:t}}))}function En(e,t){dt(e,l=>new nn({target:l,props:{config:t}}))}function Pn(e,t){dt(e,l=>new $n({target:l,props:{config:t}}))}B.renderMetaPost=En,B.renderPermissionEditor=Mn,B.renderProfile=Pn,B.renderUserPermissions=Cn,Object.defineProperty(B,"__esModule",{value:!0}),B[Symbol.toStringTag]="Module"});
